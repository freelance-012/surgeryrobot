<html><head><title>全文文本(Fulltext)</title><meta http-equiv='Content-Type' content='text/html; charset=UTF-8'><style>div.fullText table {width: 100%;text-indent: 1px;} 
 div.fullText table td.header {font-weight: bold;text-align: center;font-family: '宋体';font-size: 16px;line-height:20px;color: #000000;padding: 5px;}div.fullText table td.content {padding: 1px;text-align: left;vertical-align: top;width: 100%;font-family: '宋体';font-size: 14px;line-height:20px;color: #000000;}</style></head><body><?xml version="1.0" encoding="UTF-8"?><div xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:siposeas="java:com.neusoft.sipo.sipopublicsearch.search.app.view.detailUtils.xsltParser.XsltSeasParser" xmlns:str="http://example.com/namespace" xmlns:business="http://www.sipo.gov.cn/XMLSchema/business" xmlns:base="http://www.sipo.gov.cn/XMLSchema/base" xmlns:tbl="http://oasis-open.org/specs/soextblx" class="fullText"><table><tr><td id="claim_title" class="header">权利要求书</td></tr><tr><td class="content" id="claim_1"><business:ClaimText>1.一种被配置成对患者的腔网络进行导航的系统，所述系统包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_2"><business:ClaimText>场发生器，被配置成生成电磁(EM)场；</business:ClaimText></td></tr><tr><td class="content" id="claim_3"><business:ClaimText>处于可操纵仪器的远端的一组一个或更多个EM传感器；</business:ClaimText></td></tr><tr><td class="content" id="claim_4"><business:ClaimText>一组一个或更多个呼吸传感器；</business:ClaimText></td></tr><tr><td class="content" id="claim_5"><business:ClaimText>存储有可执行指令的至少一个计算机可读存储器；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_6"><business:ClaimText>一个或更多个处理器，所述一个或更多个处理器与所述至少一个计算机可读存储器进行通信，并且被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_7"><business:ClaimText>访问表示所述腔网络的术前模型；</business:ClaimText></td></tr><tr><td class="content" id="claim_8"><business:ClaimText>访问所述EM场的坐标系与所述术前模型的坐标系之间的映射；</business:ClaimText></td></tr><tr><td class="content" id="claim_9"><business:ClaimText>基于来自所述一组EM传感器的数据信号来计算所述一组EM传感器在所述EM场内的至少一个位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_10"><business:ClaimText>基于来自所述一组呼吸传感器的数据信号来计算所述患者的呼吸频率；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_11"><business:ClaimText>基于所述配准映射、所述呼吸频率以及所述一组EM传感器在所述EM场内的至少一个位置来确定所述可操纵仪器的远端相对于所述术前模型的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_12"><business:ClaimText>2.根据权利要求1所述的系统，其中，所述一组EM传感器中的每个EM传感器被配置成产生指示所述EM传感器与所述场发生器之间的距离和角度的信号，所述电信号能够用于确定所述EM传感器在所述EM场内的位置和取向中的一者或两者。</business:ClaimText></td></tr><tr><td class="content" id="claim_13"><business:ClaimText>3.根据权利要求1所述的系统，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_14"><business:ClaimText>将来自所述一组呼吸传感器的一个或更多个数据信号变换为所述一个或更多个数据信号的频域表示；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_15"><business:ClaimText>根据所述一个或更多个数据信号的频域表示来识别所述呼吸频率。</business:ClaimText></td></tr><tr><td class="content" id="claim_16"><business:ClaimText>4.根据权利要求3所述的系统，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_17"><business:ClaimText>向来自所述一组EM传感器的一个或更多个数据信号应用预测滤波，所述预测滤波被配置成预测由于呼吸引起的呼吸运动；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_18"><business:ClaimText>去除所述一个或更多个数据信号的能够归因于所预测的呼吸运动的分量以确定所述可操纵仪器的远端相对于所述术前模型的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_19"><business:ClaimText>5.根据权利要求1所述的系统，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少：计算在所述患者的呼吸的吸气期与呼气期之间所述一组呼吸传感器的至少一个位移量。</business:ClaimText></td></tr><tr><td class="content" id="claim_20"><business:ClaimText>6.根据权利要求5所述的系统，其中，所述一个或更多个处理器被配置成执行所述指令以至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_21"><business:ClaimText>确定所述一组EM传感器相对于所述一组呼吸传感器的至少一个位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_22"><business:ClaimText>基于(i)所确定的所述一组EM传感器相对于所述一组呼吸传感器的至少一个位置以及(ii)在吸气期与呼气期之间所述一组呼吸传感器的至少一个位移量来计算在吸气期与呼气期之间所述一组EM传感器的至少一个位置位移；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_23"><business:ClaimText>基于所计算的在吸气期与呼气期之间所述一组EM传感器的至少一个位置位移来确定所述可操纵仪器的远端相对于所述术前模型的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_24"><business:ClaimText>7.根据权利要求6所述的系统，其中，所述一组呼吸传感器包括：第一附加EM传感器，所述第一附加EM传感器在使用时被定位在身体表面的第一位置处；以及第二附加EM传感器，所述第二附加EM传感器在使用时被定位在身体表面的第二位置处，其中，所述第二位置与所述第一位置间隔开以使得在吸气期与呼气期之间所述第一附加EM传感器的第一位移量大于所述第二附加EM传感器的第二位移量。</business:ClaimText></td></tr><tr><td class="content" id="claim_25"><business:ClaimText>8.根据权利要求7所述的系统，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_26"><business:ClaimText>确定所述一组EM传感器相对于所述第一附加EM传感器和所述第二附加EM传感器的相对定位；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_27"><business:ClaimText>基于所确定的所述一组EM传感器的相对定位，在所述第一位移量与所述第二位移量之间进行内插，其中，对在吸气期与呼气期之间所述一组EM传感器的位置位移的计算是基于所内插的量。</business:ClaimText></td></tr><tr><td class="content" id="claim_28"><business:ClaimText>9.根据权利要求7所述的系统，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_29"><business:ClaimText>基于所计算的至少一个位移量来估计所述术前模型的至少一部分的移动矢量；</business:ClaimText></td></tr><tr><td class="content" id="claim_30"><business:ClaimText>基于所估计的移动矢量在所述EM场的坐标系内对所述术前模型进行平移；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_31"><business:ClaimText>基于经平移的术前模型来确定所述可操纵仪器的远端的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_32"><business:ClaimText>10.根据权利要求9所述的系统，其中，为了在所述EM场的坐标系内对所述术前模型进行平移，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_33"><business:ClaimText>基于所述第一位移量将所述模型的第一部分移动至第一新坐标；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_34"><business:ClaimText>基于所述第二位移量将所述模型的第二部分移动至第二新坐标。</business:ClaimText></td></tr><tr><td class="content" id="claim_35"><business:ClaimText>11.根据权利要求1所述的系统，还包括机器人系统，所述机器人系统具有被配置成影响所述可操纵仪器的移动的仪器驱动器。</business:ClaimText></td></tr><tr><td class="content" id="claim_36"><business:ClaimText>12.根据权利要求11所述的系统，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_37"><business:ClaimText>基于所述可操纵仪器的远端相对于所述术前模型的位置来识别所述可操纵仪器的下一移动；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_38"><business:ClaimText>指导所述仪器驱动器的致动以实现所述下一移动。</business:ClaimText></td></tr><tr><td class="content" id="claim_39"><business:ClaimText>13.根据权利要求11所述的系统，还包括显示器，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_40"><business:ClaimText>生成所述可操纵仪器的远端相对于所述术前模型的位置的图形表示；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_41"><business:ClaimText>在所述显示器上渲染所生成的图形表示。</business:ClaimText></td></tr><tr><td class="content" id="claim_42"><business:ClaimText>14.根据权利要求11所述的系统，其中，所述机器人系统包括输入装置，所述输入装置被配置成基于所述输入装置的用户操作来控制所述可操纵仪器的移动。</business:ClaimText></td></tr><tr><td class="content" id="claim_43"><business:ClaimText>15.根据权利要求1所述的系统，其中，所述术前模型包括所述患者的腔网络的三维计算机层析成像模型。</business:ClaimText></td></tr><tr><td class="content" id="claim_44"><business:ClaimText>16.一种被配置成确定对患者的腔网络导航的设备，所述设备包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_45"><business:ClaimText>存储有可执行指令的至少一个计算机可读存储器；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_46"><business:ClaimText>一个或更多个处理器，所述一个或更多个处理器与所述至少一个计算机可读存储器进行通信，并且被配置成执行所述指令以使所述设备至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_47"><business:ClaimText>访问表示所述腔网络的模型；</business:ClaimText></td></tr><tr><td class="content" id="claim_48"><business:ClaimText>访问所述模型的坐标系与在所述腔网络周围生成的电磁(EM)场的坐标系之间的映射；</business:ClaimText></td></tr><tr><td class="content" id="claim_49"><business:ClaimText>接收来自在使用时插入所述腔网络的可操纵仪器的远端的EM传感器的数据；</business:ClaimText></td></tr><tr><td class="content" id="claim_50"><business:ClaimText>基于来自所述EM传感器的数据来计算所述EM传感器在所述EM场内的位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_51"><business:ClaimText>接收来自被配置成检测所述腔网络的移动的至少一个附加传感器的数据；</business:ClaimText></td></tr><tr><td class="content" id="claim_52"><business:ClaimText>基于来自所述至少一个附加传感器的数据来计算所述腔网络的周期性移动的频率；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_53"><business:ClaimText>基于所述映射、所述频率以及所述EM传感器在所述EM场内的位置来确定所述可操纵仪器的远端相对于所述模型的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_54"><business:ClaimText>17.根据权利要求16所述的设备，其中，所述至少一个附加传感器包括一个或更多个EM传感器。</business:ClaimText></td></tr><tr><td class="content" id="claim_55"><business:ClaimText>18.根据权利要求16所述的设备，其中，所述至少一个附加传感器包括加速度计。</business:ClaimText></td></tr><tr><td class="content" id="claim_56"><business:ClaimText>19.根据权利要求16所述的设备，其中，所述至少一个附加传感器包括声学呼吸传感器，并且其中，所述声学呼吸传感器在患者呼吸期间检测所述周期性移动。</business:ClaimText></td></tr><tr><td class="content" id="claim_57"><business:ClaimText>20.根据权利要求16所述的设备，其中，所述腔网络包括呼吸气道，其中，所述一个或更多个处理器被配置成执行所述指令以使所述设备引导所述可操纵仪器通过所述腔网络。</business:ClaimText></td></tr><tr><td class="content" id="claim_58"><business:ClaimText>21.根据权利要求16所述的设备，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_59"><business:ClaimText>将来自所述至少一个附加传感器的一个或更多个数据信号变换为所述一个或更多个数据信号的频域表示；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_60"><business:ClaimText>根据所述一个或更多个数据信号的频域表示来识别所述周期性移动的频率。</business:ClaimText></td></tr><tr><td class="content" id="claim_61"><business:ClaimText>22.根据权利要求21所述的设备，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_62"><business:ClaimText>向来自所述EM传感器的一个或更多个数据信号应用滤波，所述滤波被配置成衰减所述一个或更多个数据信号的具有所识别的频率的部分；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_63"><business:ClaimText>基于经滤波的来自所述EM传感器的一个或更多个数据信号来确定所述可操纵仪器的远端相对于所述模型的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_64"><business:ClaimText>23.根据权利要求16所述的设备，其中，所述腔网络包括呼吸气道，并且其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少计算在所述患者的呼吸的吸气期与呼气期之间所述至少一个附加传感器的至少一个位移量。</business:ClaimText></td></tr><tr><td class="content" id="claim_65"><business:ClaimText>24.根据权利要求23所述的设备，其中，所述一个或更多个处理器被配置成执行所述指令以至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_66"><business:ClaimText>确定所述EM传感器相对于所述至少一个附加传感器的位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_67"><business:ClaimText>基于(i)所确定的所述EM传感器相对于所述至少一个附加传感器的位置以及(ii)在吸气期与呼气期之间所述至少一个附加传感器的至少一个位移量来计算在吸气期与呼气期之间所述EM传感器的位置位移；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_68"><business:ClaimText>基于所计算的在吸气期与呼气期之间所述EM传感器的位置位移来确定所述可操纵仪器的远端相对于所述术前模型的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_69"><business:ClaimText>25.根据权利要求24所述的设备，其中，所述至少一个附加传感器包括：第一附加EM传感器，所述第一附加EM传感器在使用时被定位在身体表面的第一位置处；以及第二附加EM传感器，所述第二附加EM传感器在使用时被定位在身体表面的第二位置处，其中，所述第二位置与所述第一位置间隔开以使得在吸气期与呼气期之间所述第一附加EM传感器的第一位移量大于所述第二附加EM传感器的第二位移量。</business:ClaimText></td></tr><tr><td class="content" id="claim_70"><business:ClaimText>26.根据权利要求25所述的设备，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_71"><business:ClaimText>确定所述EM传感器相对于所述第一附加EM传感器和所述第二附加EM传感器的位置；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_72"><business:ClaimText>基于所确定的所述EM传感器相对于所述第一附加EM传感器和所述第二附加EM传感器的位置，在所述第一位移量与所述第二位移量之间进行内插，其中，对在吸气期与呼气期之间所述EM传感器的位置位移的计算是基于所内插的量。</business:ClaimText></td></tr><tr><td class="content" id="claim_73"><business:ClaimText>27.根据权利要求25所述的设备，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_74"><business:ClaimText>基于所计算的至少一个位移量来估计所述模型的至少一部分的移动矢量；</business:ClaimText></td></tr><tr><td class="content" id="claim_75"><business:ClaimText>基于所估计的移动矢量在所述EM场的坐标系内对所述模型进行平移；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_76"><business:ClaimText>基于经平移的模型来确定所述可操纵仪器的远端的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_77"><business:ClaimText>28.根据权利要求27所述的设备，其中，为了在所述EM场的坐标系内对所述术前模型进行平移，所述一个或更多个处理器被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_78"><business:ClaimText>基于所述第一位移量将所述模型的第一部分移动至第一新坐标；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_79"><business:ClaimText>基于所述第二位移量将所述模型的第二部分移动至第二新坐标。</business:ClaimText></td></tr><tr><td class="content" id="claim_80"><business:ClaimText>29.一种存储有指令的非暂态计算机可读存储介质，所述指令在被执行时使至少一个计算装置至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_81"><business:ClaimText>接收来自在使用时插入患者的组织部位的仪器上的电磁(EM)传感器的第一数据，以及来自被配置成检测所述组织部位的移动的至少一个附加传感器的第二数据；</business:ClaimText></td></tr><tr><td class="content" id="claim_82"><business:ClaimText>基于所述第一数据来计算所述EM传感器在设置在所述组织部位周围的EM场内的位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_83"><business:ClaimText>基于所述第二数据来计算所述组织部位的周期性移动的频率；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_84"><business:ClaimText>基于(i)所述组织部位的周期性移动的频率以及(ii)所述EM传感器在所述场内的位置来确定所述仪器相对于所述组织部位的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_85"><business:ClaimText>30.根据权利要求29所述的非暂态计算机可读存储介质，其中，所述指令在被执行时使所述至少一个计算装置：</business:ClaimText></td></tr><tr><td class="content" id="claim_86"><business:ClaimText>将所述第二数据变换为频域表示；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_87"><business:ClaimText>根据所述频域表示来识别所述周期性移动的频率。</business:ClaimText></td></tr><tr><td class="content" id="claim_88"><business:ClaimText>31.根据权利要求30所述的非暂态计算机可读存储介质，其中，所述指令在被执行时使所述至少一个计算装置：</business:ClaimText></td></tr><tr><td class="content" id="claim_89"><business:ClaimText>向所述第一数据应用滤波，所述滤波被配置成衰减所述第一数据的具有所识别的频率的部分；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_90"><business:ClaimText>基于经滤波的第一数据来确定所述仪器的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_91"><business:ClaimText>32.根据权利要求29所述的非暂态计算机可读存储介质，其中，所述组织部位包括呼吸气道，并且其中，所述指令在被执行时使所述至少一个计算装置计算在所述患者的呼吸的吸气期与呼气期之间所述至少一个附加传感器的至少一个位移量。</business:ClaimText></td></tr><tr><td class="content" id="claim_92"><business:ClaimText>33.根据权利要求32所述的非暂态计算机可读存储介质，其中，所述指令在被执行时使所述至少一个计算装置：</business:ClaimText></td></tr><tr><td class="content" id="claim_93"><business:ClaimText>确定所述EM传感器相对于所述至少一个附加传感器的位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_94"><business:ClaimText>基于(i)所确定的所述EM传感器相对于所述至少一个附加传感器的位置以及(ii)在吸气期与呼气期之间所述至少一个附加传感器的至少一个位移量来计算在吸气期与呼气期之间所述EM传感器的位置位移；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_95"><business:ClaimText>基于所计算的在吸气期与呼气期之间所述EM传感器的位置位移来确定所述可操纵仪器的远端相对于所述术前模型的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_96"><business:ClaimText>34.根据权利要求32所述的非暂态计算机可读存储介质，其中，所述至少一个附加传感器包括：第一附加EM传感器，所述第一附加EM传感器在使用时被定位在所述患者的第一位置处；以及第二附加EM传感器，所述第二附加EM传感器在使用时被定位在所述患者的第二位置处，其中，所述第二位置与所述第一位置间隔开以使得在吸气期与呼气期之间所述第一附加EM传感器的第一位移量大于所述第二附加EM传感器的第二位移量，并且其中，所述指令在被执行时使所述至少一个计算装置：</business:ClaimText></td></tr><tr><td class="content" id="claim_97"><business:ClaimText>确定所述EM传感器相对于所述第一附加EM传感器和所述第二附加EM传感器的位置；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_98"><business:ClaimText>基于所确定的所述EM传感器相对于所述第一附加EM传感器和所述第二附加EM传感器的位置，在所述第一位移量与所述第二位移量之间进行内插，其中，对在吸气期与呼气期之间所述EM传感器的位置位移的计算是基于所内插的量。</business:ClaimText></td></tr><tr><td class="content" id="claim_99"><business:ClaimText>35.根据权利要求29所述的非暂态计算机可读存储介质，其中，所述指令在被执行时使所述至少一个计算装置访问表示下述的数据：</business:ClaimText></td></tr><tr><td class="content" id="claim_100"><business:ClaimText>表示所述组织部位的形貌的模型；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_101"><business:ClaimText>所述场的坐标系与所述模型的坐标系之间的映射，</business:ClaimText></td></tr><tr><td class="content" id="claim_102"><business:ClaimText>其中，确定所述仪器的位置是基于所述映射、所述频率以及所述EM传感器在所述场内的位置进行的。</business:ClaimText></td></tr><tr><td class="content" id="claim_103"><business:ClaimText>36.根据权利要求35所述的非暂态计算机可读存储介质，其中，所述组织部位包括呼吸气道，并且其中，所述指令在被执行时使所述至少一个计算装置：</business:ClaimText></td></tr><tr><td class="content" id="claim_104"><business:ClaimText>计算在所述患者的呼吸的吸气期与呼气期之间所述至少一个附加传感器的至少一个位移量；</business:ClaimText></td></tr><tr><td class="content" id="claim_105"><business:ClaimText>基于所计算的至少一个位移量来估计所述模型的至少一部分的移动矢量；</business:ClaimText></td></tr><tr><td class="content" id="claim_106"><business:ClaimText>基于所估计的移动矢量在坐标系内对所述模型进行平移；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_107"><business:ClaimText>基于经平移的模型来确定所述仪器的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_108"><business:ClaimText>37.根据权利要求36所述的非暂态计算机可读存储介质，其中，为了在所述坐标系内对所述模型进行平移，所述指令在被执行时使所述至少一个计算装置：</business:ClaimText></td></tr><tr><td class="content" id="claim_109"><business:ClaimText>基于所述第一位移量将所述模型的第一部分移动至第一新坐标；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_110"><business:ClaimText>基于所述第二位移量将所述模型的第二部分移动至第二新坐标。</business:ClaimText></td></tr><tr><td class="content" id="claim_111"><business:ClaimText>38.一种方法，包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_112"><business:ClaimText>接收来自在使用时插入患者的组织部位的仪器上的第一传感器的第一数据，以及来自被配置成检测所述组织部位的移动的至少一个附加传感器的第二数据；</business:ClaimText></td></tr><tr><td class="content" id="claim_113"><business:ClaimText>基于所述第一数据来计算所述第一传感器在所述组织部位周围的体积内的位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_114"><business:ClaimText>基于所述第二数据来计算所述组织部位的周期性移动的频率；</business:ClaimText></td></tr><tr><td class="content" id="claim_115"><business:ClaimText>基于所述频率以及所述第一传感器在所述体积内的位置来确定所述仪器相对于所述组织部位的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_116"><business:ClaimText>39.根据权利要求38所述的方法，所述方法由一个或更多个硬件处理器来执行。</business:ClaimText></td></tr><tr><td class="content" id="claim_117"><business:ClaimText>40.根据权利要求38所述的方法，还包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_118"><business:ClaimText>将所述第二数据变换为频域表示；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_119"><business:ClaimText>根据所述频域表示来识别所述周期性移动的频率。</business:ClaimText></td></tr><tr><td class="content" id="claim_120"><business:ClaimText>41.根据权利要求38所述的方法，还包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_121"><business:ClaimText>向所述第一数据应用滤波，所述滤波被配置成衰减所述第一数据的具有所识别的频率的部分；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_122"><business:ClaimText>基于经滤波的第一数据来确定所述仪器的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_123"><business:ClaimText>42.根据权利要求38所述的方法，其中，所述组织部位包括呼吸气道，所述方法还包括：计算在所述患者的呼吸的吸气期与呼气期之间所述至少一个附加传感器的至少一个位移量。</business:ClaimText></td></tr><tr><td class="content" id="claim_124"><business:ClaimText>43.根据权利要求42所述的方法，还包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_125"><business:ClaimText>确定所述第一传感器相对于所述至少一个附加传感器的位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_126"><business:ClaimText>基于(i)所确定的所述第一传感器相对于所述至少一个附加传感器的位置以及(ii)在吸气期与呼气期之间所述至少一个附加传感器的至少一个位移量来计算在吸气期与呼气期之间所述第一传感器的位置位移；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_127"><business:ClaimText>基于所计算的在吸气期与呼气期之间所述第一传感器的位置位移来确定所述仪器的相对位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_128"><business:ClaimText>44.根据权利要求42所述的方法，其中，所述至少一个附加传感器包括：第一附加传感器，所述第一附加传感器在使用时被定位在所述患者的第一位置处；以及第二附加传感器，所述第二附加传感器在使用时被定位在所述患者的第二位置处，其中，所述第二位置与所述第一位置间隔开以使得在吸气期与呼气期之间所述第一附加传感器的第一位移量大于所述第二附加传感器的第二位移量，并且其中，所述方法还包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_129"><business:ClaimText>确定所述第一传感器相对于所述第一附加传感器和所述第二附加传感器的位置；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_130"><business:ClaimText>基于所确定的所述第一传感器相对于所述第一附加传感器和所述第二附加传感器的位置，在所述第一位移量与所述第二位移量之间进行内插，其中，对在吸气期与呼气期之间所述第一传感器的位置位移的计算是基于所内插的量。</business:ClaimText></td></tr><tr><td class="content" id="claim_131"><business:ClaimText>45.根据权利要求42所述的方法，还包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_132"><business:ClaimText>访问表示下述的数据：</business:ClaimText></td></tr><tr><td class="content" id="claim_133"><business:ClaimText>表示所述组织部位的形貌的模型，以及</business:ClaimText></td></tr><tr><td class="content" id="claim_134"><business:ClaimText>所述场的坐标系与所述模型的坐标系之间的映射；</business:ClaimText></td></tr><tr><td class="content" id="claim_135"><business:ClaimText>确定所述仪器的位置是基于所述映射、所述频率以及所述EM传感器在所述场内的位置进行的。</business:ClaimText></td></tr><tr><td class="content" id="claim_136"><business:ClaimText>46.根据权利要求45所述的方法，其中，所述组织部位包括呼吸气道，并且其中，所述方法还包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_137"><business:ClaimText>计算在所述患者的呼吸的吸气期与呼气期之间所述至少一个附加传感器的至少一个位移量；</business:ClaimText></td></tr><tr><td class="content" id="claim_138"><business:ClaimText>基于所计算的至少一个位移量来估计所述模型的至少一部分的移动矢量；</business:ClaimText></td></tr><tr><td class="content" id="claim_139"><business:ClaimText>基于所估计的移动矢量在坐标系内对所述模型进行平移；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_140"><business:ClaimText>基于经平移的模型来确定所述仪器的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_141"><business:ClaimText>47.根据权利要求46所述的方法，还包括基于下述在所述坐标系内对所述模型进行平移：</business:ClaimText></td></tr><tr><td class="content" id="claim_142"><business:ClaimText>基于所述第一位移量将所述模型的第一部分移动至第一新坐标；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_143"><business:ClaimText>基于所述第二位移量将所述模型的第二部分移动至第二新坐标。</business:ClaimText></td></tr><tr><td class="content" id="claim_144"><business:ClaimText>48.一种被配置成对患者的腔网络进行导航的系统，所述系统包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_145"><business:ClaimText>场发生器，被配置成生成电磁(EM)场；</business:ClaimText></td></tr><tr><td class="content" id="claim_146"><business:ClaimText>在可操纵仪器的远端处包括的一组一个或更多个EM传感器；</business:ClaimText></td></tr><tr><td class="content" id="claim_147"><business:ClaimText>至少一个呼吸传感器；</business:ClaimText></td></tr><tr><td class="content" id="claim_148"><business:ClaimText>存储有可执行指令的至少一个计算机可读存储器；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_149"><business:ClaimText>一个或更多个处理器，所述一个或更多个处理器与所述至少一个计算机可读存储器进行通信，并且被配置成执行所述指令以使所述系统至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_150"><business:ClaimText>访问表示所述腔网络的术前模型；</business:ClaimText></td></tr><tr><td class="content" id="claim_151"><business:ClaimText>访问所述EM场的坐标系与所述术前模型的坐标系之间的映射；</business:ClaimText></td></tr><tr><td class="content" id="claim_152"><business:ClaimText>基于来自所述一组EM传感器的数据信号来计算所述一组EM传感器在所述EM场内的位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_153"><business:ClaimText>基于所述映射以及所述一组EM传感器在所述EM场内的位置来确定所述可操纵仪器的远端相对于所述术前模型的位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_154"><business:ClaimText>基于来自所述至少一个呼吸传感器的数据来确定在从所述一组EM传感器获取数据信号期间所述患者的呼吸期是与吸气期对应还是与呼气期对应；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_155"><business:ClaimText>基于所述可操纵仪器的远端相对于所述模型的位置和所述呼吸期来确定是否针对所述可操纵仪器的下一移动激活安全模式。</business:ClaimText></td></tr><tr><td class="content" id="claim_156"><business:ClaimText>49.根据权利要求48所述的系统，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统激活所述安全模式，并且在所述安全模式下实现一个或更多个安全特征以引导所述下一移动与所述呼吸期的同步。</business:ClaimText></td></tr><tr><td class="content" id="claim_157"><business:ClaimText>50.根据权利要求48所述的系统，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统：</business:ClaimText></td></tr><tr><td class="content" id="claim_158"><business:ClaimText>访问关于通过所述腔网络去往靶组织部位的导航路径的信息；</business:ClaimText></td></tr><tr><td class="content" id="claim_159"><business:ClaimText>基于所述导航路径和所述可操纵仪器的远端相对于所述术前模型的位置来识别出所述可操纵仪器的远端在使用时被定位在所述腔网络的预先限定的安全区内；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_160"><business:ClaimText>基于确定所述可操纵仪器的远端被定位在所述预先限定的安全区内来激活所述安全模式。</business:ClaimText></td></tr><tr><td class="content" id="claim_161"><business:ClaimText>51.根据权利要求50所述的系统，其中，所述导航路径包括多个区，并且其中，所述安全区位于所述腔网络的下述部分中，在该部分中呼吸通道直径与所述可操纵仪器的远端的直径之间的差下降至预定值以下。</business:ClaimText></td></tr><tr><td class="content" id="claim_162"><business:ClaimText>52.根据权利要求48所述的系统，其中，在所述安全模式下，所述一个或更多个处理器被配置成执行所述指令以使所述系统向用户输出表示所述呼吸期的信息。</business:ClaimText></td></tr><tr><td class="content" id="claim_163"><business:ClaimText>53.根据权利要求48所述的系统，还包括机器人系统，所述机器人系统包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_164"><business:ClaimText>显示器；</business:ClaimText></td></tr><tr><td class="content" id="claim_165"><business:ClaimText>输入装置，被配置成响应于所述输入装置的用户操作来生成用于控制所述可操纵仪器的移动的信号；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_166"><business:ClaimText>仪器驱动器，被配置成基于来自所述输入装置的信号来影响所述可操纵仪器的移动。</business:ClaimText></td></tr><tr><td class="content" id="claim_167"><business:ClaimText>54.根据权利要求53所述的系统，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统响应于激活所述安全模式而防止所述仪器驱动器在所述患者的呼吸的呼气期期间致动。</business:ClaimText></td></tr><tr><td class="content" id="claim_168"><business:ClaimText>55.根据权利要求54所述的系统，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统通过忽视基于所述输入装置的用户操作尝试对所述仪器驱动器的致动来防止所述仪器驱动器致动。</business:ClaimText></td></tr><tr><td class="content" id="claim_169"><business:ClaimText>56.根据权利要求53所述的系统，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统输出所述呼吸的吸气期和呼气期的图形表示，所述图形表示能够被显示在所述显示器上。</business:ClaimText></td></tr><tr><td class="content" id="claim_170"><business:ClaimText>57.根据权利要求48所述的系统，其中，所述术前模型包括所述患者的腔网络的三维计算机层析成像模型。</business:ClaimText></td></tr><tr><td class="content" id="claim_171"><business:ClaimText>58.一种被配置成引导对患者的腔网络导航的设备，所述设备包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_172"><business:ClaimText>存储有可执行指令的至少一个计算机可读存储器；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_173"><business:ClaimText>一个或更多个处理器，所述一个或更多个处理器与所述至少一个计算机可读存储器进行通信，并且被配置成执行所述指令以使所述设备至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_174"><business:ClaimText>访问与下述对应的数据：</business:ClaimText></td></tr><tr><td class="content" id="claim_175"><business:ClaimText>表示所述腔网络的模型，</business:ClaimText></td></tr><tr><td class="content" id="claim_176"><business:ClaimText>所述模型的坐标系与在所述腔网络周围生成的电磁(EM)场的坐标系之间的映射，</business:ClaimText></td></tr><tr><td class="content" id="claim_177"><business:ClaimText>来自在使用时插入所述腔网络的可操纵仪器的远端的EM传感器的信号，以及</business:ClaimText></td></tr><tr><td class="content" id="claim_178"><business:ClaimText>来自被配置成检测所述腔网络的移动的至少一个附加传感器的信号；</business:ClaimText></td></tr><tr><td class="content" id="claim_179"><business:ClaimText>基于与来自所述EM传感器的信号对应的数据来计算所述EM传感器在所述EM场内的位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_180"><business:ClaimText>基于所述可操纵仪器的远端相对于所述模型的位置来计算所述可操纵仪器的下一移动；</business:ClaimText></td></tr><tr><td class="content" id="claim_181"><business:ClaimText>基于与来自所述至少一个附加传感器的信号对应的数据来确定在从所述第一传感器获取信号期间所述患者的呼吸期是与吸气期对应还是与呼气期对应；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_182"><business:ClaimText>基于所述呼吸期来确定是否针对所述可操纵仪器的下一移动激活安全模式。</business:ClaimText></td></tr><tr><td class="content" id="claim_183"><business:ClaimText>59.根据权利要求58所述的设备，其中，所述至少一个附加传感器包括一个或更多个EM传感器。</business:ClaimText></td></tr><tr><td class="content" id="claim_184"><business:ClaimText>60.根据权利要求58所述的设备，其中，所述至少一个附加传感器包括加速度计。</business:ClaimText></td></tr><tr><td class="content" id="claim_185"><business:ClaimText>61.根据权利要求58所述的设备，其中，所述至少一个附加传感器包括声学呼吸传感器，所述声学呼吸传感器被配置成在患者呼吸期间检测所述周期性移动。</business:ClaimText></td></tr><tr><td class="content" id="claim_186"><business:ClaimText>62.根据权利要求58所述的设备，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统激活所述安全模式，并且在所述安全模式下实现一个或更多个安全特征以引导所述下一移动与所述呼吸期的同步。</business:ClaimText></td></tr><tr><td class="content" id="claim_187"><business:ClaimText>63.根据权利要求58所述的设备，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统：</business:ClaimText></td></tr><tr><td class="content" id="claim_188"><business:ClaimText>访问关于通过所述腔网络去往靶组织部位的导航路径的信息；</business:ClaimText></td></tr><tr><td class="content" id="claim_189"><business:ClaimText>基于所述导航路径和所述可操纵仪器的远端相对于所述术前模型的位置来识别出所述可操纵仪器的远端在使用时被定位在所述腔网络的预先限定的安全区内；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_190"><business:ClaimText>基于确定所述可操纵仪器的远端被定位在所述预先限定的安全区内来激活所述安全模式。</business:ClaimText></td></tr><tr><td class="content" id="claim_191"><business:ClaimText>64.根据权利要求63所述的设备，其中，所述导航路径包括多个区，并且其中，所述安全区位于所述腔网络的下述部分中，在该部分中呼吸通道直径与所述可操纵仪器的远端的直径之间的差下降至预定值以下。</business:ClaimText></td></tr><tr><td class="content" id="claim_192"><business:ClaimText>65.根据权利要求63所述的设备，其中，在所述安全模式下，所述一个或更多个处理器被配置成执行所述指令以使所述系统向用户输出表示所述呼吸期的信息。</business:ClaimText></td></tr><tr><td class="content" id="claim_193"><business:ClaimText>66.根据权利要求58所述的设备，还包括机器人系统，所述机器人系统包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_194"><business:ClaimText>显示器；</business:ClaimText></td></tr><tr><td class="content" id="claim_195"><business:ClaimText>输入装置，被配置成响应于所述输入装置的用户操作来生成用于控制所述可操纵仪器的移动的信号；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_196"><business:ClaimText>仪器驱动器，被配置成基于来自所述输入装置的信号来影响所述可操纵仪器的移动。</business:ClaimText></td></tr><tr><td class="content" id="claim_197"><business:ClaimText>67.根据权利要求66所述的设备，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统响应于激活所述安全模式而防止所述仪器驱动器在所述患者的呼吸的一个或更多个呼气期期间致动。</business:ClaimText></td></tr><tr><td class="content" id="claim_198"><business:ClaimText>68.根据权利要求67所述的设备，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统通过忽视基于所述输入装置的用户操作尝试对所述仪器驱动器的致动来防止所述仪器驱动器致动。</business:ClaimText></td></tr><tr><td class="content" id="claim_199"><business:ClaimText>69.根据权利要求66所述的设备，其中，所述一个或更多个处理器被配置成执行所述指令以使所述系统输出所述呼吸的吸气期和呼气期的图形表示，所述图形表示能够被显示在所述显示器上。</business:ClaimText></td></tr><tr><td class="content" id="claim_200"><business:ClaimText>70.一种存储有指令的非暂态计算机可读存储介质，所述指令在被执行时使装置的处理器至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_201"><business:ClaimText>接收来自在使用时插入患者的腔网络的仪器上的第一传感器的第一数据，以及来自被配置成检测所述腔网络的移动的至少一个附加传感器的第二数据；</business:ClaimText></td></tr><tr><td class="content" id="claim_202"><business:ClaimText>基于所述第一数据来计算所述第一传感器在设置在所述组织部位周围的场内的位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_203"><business:ClaimText>基于所述第二数据来确定在从所述第一传感器获取所述第一数据期间所述患者的呼吸期是与吸气期对应还是与呼气期对应；</business:ClaimText></td></tr><tr><td class="content" id="claim_204"><business:ClaimText>基于所述映射以及所述第一传感器在所述场内的位置来确定所述仪器的位置；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_205"><business:ClaimText>基于所述仪器的位置和所述呼吸期来确定是否激活安全模式。</business:ClaimText></td></tr><tr><td class="content" id="claim_206"><business:ClaimText>71.根据权利要求70所述的非暂态计算机可读存储介质，其中，所述指令在被执行时使所述处理器至少：接收来自所述至少一个附加传感器的图像数据，并且基于所述图像数据来确定所述呼吸期是与吸气期对应还是与呼气期对应。</business:ClaimText></td></tr><tr><td class="content" id="claim_207"><business:ClaimText>72.根据权利要求70所述的非暂态计算机可读存储介质，其中，所述指令在被执行时使所述处理器至少：接收来自所述至少一个附加传感器的加速度计数据，并且基于由所述加速度计数据指示的移动方向来确定所述呼吸期是与吸气期对应还是与呼气期对应。</business:ClaimText></td></tr><tr><td class="content" id="claim_208"><business:ClaimText>73.根据权利要求70所述的非暂态计算机可读存储介质，其中，所述指令在被执行时使所述处理器至少访问与(i)表示所述腔网络的形貌的模型以及(ii)所述场的坐标系与所述模型的坐标系之间的映射对应的数据；其中，确定所述仪器的位置包括基于所述映射和所述第一传感器在所述场内的位置来确定所述仪器相对于所述模型的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_209"><business:ClaimText>74.根据权利要求70所述的非暂态计算机可读存储介质，其中，所述指令在被执行时使所述处理器至少激活所述安全模式，并且在所述安全模式下实现一个或更多个安全特征以引导下一移动与所述呼吸期的同步。</business:ClaimText></td></tr><tr><td class="content" id="claim_210"><business:ClaimText>75.根据权利要求70所述的非暂态计算机可读存储介质，其中，所述指令在被执行时使所述处理器至少：</business:ClaimText></td></tr><tr><td class="content" id="claim_211"><business:ClaimText>访问关于通过所述腔网络去往靶组织部位的导航路径的信息；</business:ClaimText></td></tr><tr><td class="content" id="claim_212"><business:ClaimText>基于所述导航路径和所述仪器的位置来识别出所述仪器在使用时被定位在所述腔网络的预先限定的安全区内；并且</business:ClaimText></td></tr><tr><td class="content" id="claim_213"><business:ClaimText>基于确定所述仪器被定位在所述预先限定的安全区内来激活所述安全模式。</business:ClaimText></td></tr><tr><td class="content" id="claim_214"><business:ClaimText>76.根据权利要求75所述的非暂态计算机可读存储介质，其中，所述导航路径包括多个区，并且其中，所述安全区位于所述腔网络的下述部分中，在该部分中呼吸通道直径与所述可操纵仪器的远端的直径之间的差下降至预定值以下。</business:ClaimText></td></tr><tr><td class="content" id="claim_215"><business:ClaimText>77.根据权利要求70所述的非暂态计算机可读存储介质，其中，所述指令在被执行时使所述处理器至少响应于确定激活所述安全模式而向用户输出表示所述呼吸期的信息。</business:ClaimText></td></tr><tr><td class="content" id="claim_216"><business:ClaimText>78.根据权利要求70所述的非暂态计算机可读存储介质，其中，所述指令在被执行时使所述处理器至少响应于确定激活所述安全模式而防止机器人仪器驱动器在所述患者的呼吸的呼气期期间致动，所述机器人仪器驱动器被配置成影响所述仪器通过所述腔网络的移动。</business:ClaimText></td></tr><tr><td class="content" id="claim_217"><business:ClaimText>79.一种方法，包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_218"><business:ClaimText>接收来自在使用时插入患者的腔网络的仪器上的第一传感器的第一数据，以及来自被配置成检测所述腔网络的移动的至少一个附加传感器的第二数据；</business:ClaimText></td></tr><tr><td class="content" id="claim_219"><business:ClaimText>基于所述第一数据来计算所述第一传感器在设置在所述组织部位周围的场内的位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_220"><business:ClaimText>基于所述第二数据来确定在从所述第一传感器获取所述第一数据期间所述患者的呼吸期是与吸气期对应还是与呼气期对应；</business:ClaimText></td></tr><tr><td class="content" id="claim_221"><business:ClaimText>基于所述第一传感器在所述场内的位置来确定所述仪器的位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_222"><business:ClaimText>基于所述位置来确定所述仪器的下一移动；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_223"><business:ClaimText>基于所述呼吸期来确定是否针对所述下一移动激活安全模式。</business:ClaimText></td></tr><tr><td class="content" id="claim_224"><business:ClaimText>80.根据权利要求79所述的方法，所述方法由一个或更多个硬件处理器来执行。</business:ClaimText></td></tr><tr><td class="content" id="claim_225"><business:ClaimText>81.根据权利要求79所述的方法，还包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_226"><business:ClaimText>激活所述安全模式；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_227"><business:ClaimText>在所述安全模式下实现一个或更多个安全特征以引导所述下一移动与所述呼吸期的同步。</business:ClaimText></td></tr><tr><td class="content" id="claim_228"><business:ClaimText>82.根据权利要求79所述的方法，还包括访问与(i)表示所述腔网络的形貌的模型以及(ii)所述场的坐标系与所述模型的坐标系之间的映射对应的数据；其中，确定所述仪器的位置包括基于所述映射和所述第一传感器在所述场内的位置来确定所述仪器相对于所述模型的位置。</business:ClaimText></td></tr><tr><td class="content" id="claim_229"><business:ClaimText>83.根据权利要求79所述的方法，还包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_230"><business:ClaimText>访问关于通过所述腔网络去往靶组织部位的导航路径的信息；</business:ClaimText></td></tr><tr><td class="content" id="claim_231"><business:ClaimText>基于所述导航路径和所述仪器的位置来识别出所述仪器在使用时被定位在所述腔网络的预先限定的安全区内；以及</business:ClaimText></td></tr><tr><td class="content" id="claim_232"><business:ClaimText>基于确定所述仪器被定位在所述预先限定的安全区内来激活所述安全模式。</business:ClaimText></td></tr><tr><td class="content" id="claim_233"><business:ClaimText>84.根据权利要求79所述的方法，还包括：响应于确定激活所述安全模式而向用户输出表示所述呼吸期的信息。</business:ClaimText></td></tr><tr><td class="content" id="claim_234"><business:ClaimText>85.根据权利要求79所述的方法，还包括：响应于确定激活所述安全模式而防止机器人仪器驱动器在所述患者的呼吸的呼气期期间致动，所述机器人仪器驱动器被配置成影响所述仪器通过所述腔网络的移动。</business:ClaimText></td></tr><tr><td class="content" id="claim_235"><business:ClaimText>86.根据权利要求85所述的方法，其中，防止所述机器人仪器驱动器致动包括：在呼气期或后续的呼气期期间忽视用户输入以执行所述下一移动。</business:ClaimText></td></tr></table></div><div xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:siposeas="java:com.neusoft.sipo.sipopublicsearch.search.app.view.detailUtils.xsltParser.XsltSeasParser" xmlns:str="http://example.com/namespace" xmlns:business="http://www.sipo.gov.cn/XMLSchema/business" xmlns:base="http://www.sipo.gov.cn/XMLSchema/base" xmlns:tbl="http://oasis-open.org/specs/soextblx" class="fullText"><table style="table-layout:fixed"><tr><td id="description_title" class="header">
						说明书
					</td></tr><tr><td class="content" id="description_invention_title">补偿生理噪声的用于腔网络导航的机器人系统</td></tr><tr><td class="content" id="description_1">相关申请的交叉引用</td></tr><tr><td class="content" id="description_2">本申请要求于2017年3月31日提交的题为“ROBOTIC SYSTEMS FOR NAVIGATION OFLUMINAL NETWORKS THAT COMPENSATE FOR PHYSIOLOGICAL NOISE”的美国临时专利申请No.62/480,257的权益，其内容通过引用整体并入本文中。</td></tr><tr><td class="content" id="description_3">技术领域</td></tr><tr><td class="content" id="description_4">本文中所公开的系统和方法涉及腔内(endoluminal)过程，并且更具体地涉及腔内导航。</td></tr><tr><td class="content" id="description_5">背景技术</td></tr><tr><td class="content" id="description_6">支气管镜检查是一种允许医师检查患者肺气道(如支气管和细支气管)的内部状况的医疗过程。在医疗过程期间，可以将称为支气管镜的细的柔性管状工具插入患者的口腔中并且朝向确定进行随后诊断和治疗的组织部位、沿患者的喉部向下进入他/她的肺气道。支气管镜可以具有提供到组织部位的通路的内腔(“工作通道”)，并且导管和各种医疗工具可以通过工作通道插到组织部位。</td></tr><tr><td class="content" id="description_7">发明内容</td></tr><tr><td class="content" id="description_8">肺病专家可以通过基于患者的呼吸循环进行他们的决定和动作来防止术中创伤。这样的动作的一个示例是插入活检工具以例如经由支气管镜检查来收集组织样本。在肺周缘处或附近，气道可能是狭窄的，并且气道的周长根据肺的呼吸期(respiratory phase)而改变。当患者在呼吸循环的吸气期吸气时气道的直径扩大，并且当患者在呼吸循环的呼气期呼气时，气道的直径收缩。在手术期间，肺病专家可以观察患者以确定患者是处于吸气期还是呼气期，以决定固定直径的特定工具或内窥镜是否可以进入气道。在呼气期间气道可能包围工具，虽然不会引起创伤，但在呼气期期间迫使工具通过收缩的气道可能例如由于刺穿血管而引起严重的创伤。</td></tr><tr><td class="content" id="description_9">在一些实施方式中，通过本文中描述的腔网络导航系统和技术解决了上述问题等。所公开的腔网络导航系统和技术的一些实施方式涉及将呼吸频率和/或幅度并入导航框架中以实现患者安全措施(例如，仪器控制技术、用户界面警报、通知等)。作为仪器控制技术的示例，如本文中所描述的机器人系统可以自动实现呼吸门控(respiratorygating)，以防止用户(医师)无意中对患者气道造成创伤。如本文中所使用的，“呼吸门控”可以指患者气道中的仪器操作与患者呼吸的同步。在一些示例中，该仪器控制技术包括识别患者气道的呼气期间的仪器插入可能引起创伤的区域(“警告区”)，例如肺周缘附近的较小气道，在肺周缘附近的较小气道处，吸气期间的气道直径可以接近仪器直径。当确定仪器位于所识别的区域中的一个区域内时，机器人系统可以实现呼吸门控以控制仪器。作为用户界面警报的示例，机器人系统可以在支气管镜检查过程期间在识别的警告区内呈现吸气、呼气和/或仪器定位的视觉和/或听觉指示。用户可以基于用户界面警报进行仪器控制，例如通过手动执行呼吸门控或控制机器人系统来执行呼吸门控。</td></tr><tr><td class="content" id="description_10">所公开的支气管镜检查导航系统和技术的一些实施方式涉及识别和补偿由患者呼吸引起的运动，以提供对仪器在患者气道内的位置的更准确识别。例如，定位在患者气道内的仪器可以设置有电磁件(EM传感器)。导航系统可以对来自EM传感器的仪器位置信息进行滤波，以去除由于由呼吸引起的呼吸通道的周期性运动产生的信号噪声。可以从来自一个或更多个附加传感器的数据获得周期性呼吸运动的频率。在一些实现方式中，在一个示例中，可以基于来自放置在患者身体上的附加EM传感器、加速度计和/或听觉呼吸传感器的数据来确定吸气和呼气循环。在一些实现方式中，可以从其他类型的传感器或系统获得频率，例如，来自用于控制患者呼吸的呼吸机的呼吸循环信息、或从对从被定位成观察患者的光学传感器接收到的图像的自动分析提取的呼吸循环信息。</td></tr><tr><td class="content" id="description_11">因此，一个方面涉及一种被配置成对患者的腔网络进行导航的系统，该系统包括：场发生器，被配置成生成电磁(EM)场；处于可操纵仪器的远端处的一组一个或更多个EM传感器；一组一个或更多个呼吸传感器；存储有可执行指令的至少一个计算机可读存储器；以及一个或更多个处理器，该一个或更多个处理器与至少一个计算机可读存储器进行通信，并且被配置成执行指令以使系统至少：访问表示腔网络的术前模型；访问EM场的坐标系与术前模型的坐标系之间的映射；基于来自一组EM传感器的数据信号来计算一组EM传感器在EM场内的至少一个位置；基于来自一组呼吸传感器的数据信号来计算患者的呼吸频率；并且基于配准(registration)映射、呼吸频率以及一组EM传感器在EM场内的至少一个位置来确定可操纵仪器的远端相对于术前模型的位置。</td></tr><tr><td class="content" id="description_12">在一些实现方式中，一组EM传感器中的每个EM传感器被配置成产生指示EM传感器与场发生器之间的距离和角度的信号，电信号能够用于确定EM传感器在EM场内的位置和取向中的一者或两者。</td></tr><tr><td class="content" id="description_13">在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统至少：将来自一组呼吸传感器的一个或更多个数据信号变换为一个或更多个数据信号的频域表示；并且根据一个或更多个数据信号的频域表示识别呼吸频率。在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统至少：向来自一组EM传感器的一个或更多个数据信号应用滤波，该滤波被配置成衰减一个或更多个数据信号的具有所识别的频率的部分；并且基于经滤波的来自一组EM传感器的一个或更多个数据信号来确定可操纵仪器的远端相对于术前模型的位置。</td></tr><tr><td class="content" id="description_14">在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统至少计算在患者呼吸的吸气期与呼气期之间一组呼吸传感器的至少一个位移量。在一些实现方式中，一个或更多个处理器被配置成执行指令以至少：确定一组EM传感器相对于一组呼吸传感器的至少一个位置；计算在吸气期与呼气期之间一组EM传感器的至少一个位置位移，该计算基于(i)所确定的一组EM传感器相对于一组呼吸传感器的至少一个位置以及(ii)在吸气期与呼气期之间一组呼吸传感器的至少一个位移量；并且基于所计算的在吸气期与呼气期之间一组EM传感器的至少一个位置位移来确定可操纵仪器的远端相对于术前模型的位置。在一些实现方式中，一组呼吸传感器包括：第一附加EM传感器，该第一附加EM传感器在使用时被定位在身体表面的第一位置处；以及第二附加EM传感器，该第二附加EM传感器在使用时被定位在身体表面的第二位置处，其中，第二位置与第一位置间隔开以使得在吸气期与呼气期之间第一附加EM传感器的第一位移量大于第二附加EM传感器的第二位移量。在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统至少：确定一组EM传感器相对于第一附加EM传感器和第二附加EM传感器的相对定位；并且基于所确定的一组EM传感器的相对定位，在第一位移量与第二位移量之间进行内插，其中，对在吸气期与呼气期之间一组EM传感器的位置位移的计算是基于所内插的量。在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统至少：基于所计算的至少一个位移量来估计术前模型的至少一部分的移动矢量；基于所估计的移动矢量在EM场的坐标系内对术前模型进行平移(translate)；并且基于经平移的术前模型来确定可操纵仪器的远端的位置。在一些实现方式中，为了在EM场的坐标系内对术前模型进行平移，一个或更多个处理器被配置成执行指令以使系统至少：基于第一位移量将模型的第一部分移动至第一新坐标；并且基于第二位移量将模型的第二部分移动至第二新坐标。</td></tr><tr><td class="content" id="description_15">一些实现方式还包括机器人系统，该机器人系统具有被配置成影响可操纵仪器的移动的仪器驱动器。在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统至少：基于可操纵仪器的远端相对于术前模型的位置来识别可操纵仪器的下一移动；并且指导仪器驱动器的致动以影响下一移动。一些实现方式还包括显示器，其中，一个或更多个处理器被配置成执行指令以使系统至少：生成可操纵仪器的远端相对于术前模型的位置的图形表示；并且在显示器上渲染所生成的图形表示。在一些实现方式中，机器人系统包括输入装置，输入装置被配置成基于输入装置的用户操作来控制可操纵仪器的移动。</td></tr><tr><td class="content" id="description_16">在一些实现方式中，术前模型包括患者的腔网络的三维计算机层析成像模型。</td></tr><tr><td class="content" id="description_17">另一方面涉及一种被配置成确定患者的腔网络导航的设备，该设备包括：存储有可执行指令的至少一个计算机可读存储器；以及一个或更多个处理器，该一个或更多个处理器与至少一个计算机可读存储器进行通信，并且被配置成执行指令以使设备至少：访问表示腔网络的模型；访问该模型的坐标系与在腔网络周围生成的电磁(EM)场的坐标系之间的映射；接收来自在使用时插入腔网络的可操纵仪器的远端的EM传感器的数据；基于来自EM传感器的数据来计算该EM传感器在EM场内的位置；接收来自被配置成检测腔网络的移动的至少一个附加传感器的数据；基于来自至少一个附加传感器的数据来计算腔网络的周期性移动的频率；并且基于映射、频率以及EM传感器在EM场内的位置来确定可操纵仪器的远端相对于模型的位置。</td></tr><tr><td class="content" id="description_18">在一些实现方式中，至少一个附加传感器包括一个或更多个EM传感器。</td></tr><tr><td class="content" id="description_19">在一些实现方式中，至少一个附加传感器包括加速度计。</td></tr><tr><td class="content" id="description_20">在一些实现方式中，至少一个附加传感器包括声学呼吸传感器，并且该声学呼吸传感器在患者呼吸期间检测周期性移动。</td></tr><tr><td class="content" id="description_21">在一些实现方式中，腔网络包括呼吸气道，其中，一个或更多个处理器被配置成执行指令以使设备引导可操纵仪器通过腔网络。</td></tr><tr><td class="content" id="description_22">在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统至少：将来自至少一个附加传感器的一个或更多个数据信号变换为该一个或更多个数据信号的频域表示；并且根据一个或更多个数据信号的频域表示识别周期性移动的频率。在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统至少：向来自EM传感器的一个或更多个数据信号应用滤波，该滤波被配置成衰减一个或更多个数据信号的具有所识别的频率的部分；并且基于经滤波的来自EM传感器的一个或更多个数据信号来确定可操纵仪器的远端相对于模型的位置。</td></tr><tr><td class="content" id="description_23">在一些实现方式中，腔网络包括呼吸气道，并且一个或更多个处理器被配置成执行指令以使系统至少计算在患者呼吸的吸气期与呼气期之间至少一个附加传感器的至少一个位移量。在一些实现方式中，一个或更多个处理器被配置成执行指令以至少：确定EM传感器相对于至少一个附加传感器的位置；计算在吸气期与呼气期之间EM传感器的位置位移，该计算基于(i)所确定的EM传感器相对于至少一个附加传感器的位置以及(ii)在吸气期与呼气期之间至少一个附加传感器的至少一个位移量；并且基于所计算的在吸气期与呼气期之间EM传感器的位置位移来确定可操纵仪器的远端相对于术前模型的位置。在一些实现方式中，至少一个附加传感器包括：第一附加EM传感器，该第一附加EM传感器在使用时被定位在身体表面的第一位置处；以及第二附加EM传感器，该第二附加EM传感器在使用时被定位在身体表面的第二位置处，其中，第二位置与第一位置间隔开以使得在吸气期与呼气期之间第一附加EM传感器的第一位移量大于第二附加EM传感器的第二位移量。在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统至少：确定EM传感器相对于第一附加EM传感器和第二附加EM传感器的位置；并且基于所确定的EM传感器相对于第一附加EM传感器和第二附加EM传感器的位置，在第一位移量与第二位移量之间进行内插，其中，对在吸气期与呼气期之间EM传感器的位置位移的计算是基于所内插的量。在一些实现方式中，一个或更多个处理器被配置成执行指令使系统至少：基于所计算的至少一个位移量来估计模型的至少一部分的移动矢量；基于所估计的移动矢量在EM场的坐标系内对模型进行平移；并且基于经平移的模型来确定可操纵仪器的远端的位置。在一些实现方式中，为了在EM场的坐标系内对术前模型进行平移，一个或更多个处理器被配置成执行指令以使系统至少：基于第一位移量将模型的第一部分移动至第一新坐标；并且基于第二位移量将模型的第二部分移动至第二新坐标。</td></tr><tr><td class="content" id="description_24">另一方面涉及一种存储有指令的非暂态计算机可读存储介质，指令在被执行时使至少一个计算装置至少：接收来自在使用时插入患者的组织部位的仪器上的电磁(EM)传感器的第一数据，以及来自被配置成检测组织部位的移动的至少一个附加传感器的第二数据；基于第一数据来计算EM传感器在设置在组织部位周围的EM场内的位置；基于第二数据来计算组织部位的周期性移动的频率；并且基于(i)组织部位的周期性移动的频率以及(ii)EM传感器在场内的位置来确定仪器相对于组织部位的位置。</td></tr><tr><td class="content" id="description_25">在一些实现方式中，指令在被执行时使至少一个计算装置：将第二数据变换为频域表示；并且根据频域表示识别周期性移动的频率。在一些实现方式中，指令在被执行时使至少一个计算装置：向第一数据应用滤波，滤波被配置成衰减第一数据的具有所识别的频率的一部分；并且基于经滤波的第一数据来确定仪器的位置。</td></tr><tr><td class="content" id="description_26">在一些实现方式中，组织部位包括呼吸气道，并且指令在被执行时使至少一个计算装置计算在患者呼吸的吸气期与呼气期之间至少一个附加传感器的至少一个位移量。在一些实现方式中，指令在被执行时使至少一个计算装置：确定EM传感器相对于至少一个附加传感器的位置；计算在吸气期与呼气期之间EM传感器的位置位移，该计算基于(i)所确定的EM传感器相对于至少一个附加传感器的位置以及(ii)在吸气期与呼气期之间至少一个附加传感器的至少一个位移量；并且基于所计算的在吸气期与呼气期之间EM传感器的位置位移来确定可操纵仪器的远端相对于术前模型的位置。在一些实现方式中，至少一个附加传感器包括：第一附加EM传感器，该第一附加EM传感器在使用时被定位在患者的第一位置处；以及第二附加EM传感器，该第二附加EM传感器在使用时被定位在患者的第二位置处，其中，第二位置与第一位置间隔开以使得在吸气期与呼气期之间第一附加EM传感器的第一位移量大于第二附加EM传感器的第二位移量，并且指令在被执行时使至少一个计算装置：确定EM传感器相对于第一附加EM传感器和第二附加EM传感器的位置；并且基于所确定的EM传感器相对于第一附加EM传感器和第二附加EM传感器的位置，在第一位移量与第二位移量之间进行内插，其中，对在吸气期与呼气期之间EM传感器的位置位移的计算是基于所内插的量。</td></tr><tr><td class="content" id="description_27">在一些实现方式中，指令在被执行时使至少一个计算装置访问表示下述的数据：表示组织部位的形貌(topography)的模型；以及场的坐标系与模型的坐标系之间的映射；其中，确定仪器的位置是基于映射、频率以及EM传感器在场内的位置。在一些实现方式中，组织部位包括呼吸气道，并且指令在被执行时使至少一个计算装置：计算在患者呼吸的吸气期与呼气期之间至少一个附加传感器的至少一个位移量；基于所计算的至少一个位移量来估计模型的至少一部分的移动矢量；基于所估计的移动矢量在坐标系内对模型进行平移；并且基于经平移的模型来确定仪器的位置。在一些实现方式中，为了在坐标系内对模型进行平移，指令在被执行时使至少一个计算装置：基于第一位移量将模型的第一部分移动至第一新坐标；并且基于第二位移量将模型的第二部分移动至第二新坐标。</td></tr><tr><td class="content" id="description_28">另一方面涉及一种方法，包括：接收来自在使用时插入患者的组织部位的仪器上的第一传感器的第一数据，以及来自被配置成检测组织部位的移动的至少一个附加传感器的第二数据；基于第一数据来计算第一传感器在组织部位周围的体积内的位置；基于第二数据来计算组织部位的周期性移动的频率；基于该频率以及第一传感器在体积内的位置来确定仪器相对于组织部位的位置。</td></tr><tr><td class="content" id="description_29">一些实现方式可以由一个或更多个硬件处理器来执行。</td></tr><tr><td class="content" id="description_30">一些实现方式还包括：将第二数据变换为频域表示；以及根据频域表示识别周期性移动的频率。</td></tr><tr><td class="content" id="description_31">一些实现方式还包括：向第一数据应用滤波，滤波被配置成衰减第一数据的具有所识别的频率的部分；并且基于经滤波的第一数据来确定仪器的位置。</td></tr><tr><td class="content" id="description_32">在一些实现方式中，组织部位包括呼吸气道，并且该方法还包括：计算在患者呼吸的吸气期与呼气期之间至少一个附加传感器的至少一个位移量。一些实现方式还包括：确定第一传感器相对于至少一个附加传感器的位置；计算在吸气期与呼气期之间第一传感器的位置位移，该计算基于(i)所确定的第一传感器相对于至少一个附加传感器的位置以及(ii)在吸气期与呼气期之间至少一个附加传感器的至少一个位移量；并且基于所计算的在吸气期与呼气期之间第一传感器的位置位移来确定仪器的相对位置。在一些实现方式中，至少一个附加传感器包括：第一附加传感器，该第一附加传感器在使用时被定位在患者的第一位置处；以及第二附加传感器，该第二附加传感器在使用时被定位在患者的第二位置处，其中，第二位置与第一位置间隔开以使得在吸气期与呼气期之间第一附加传感器的第一位移量大于第二附加传感器的第二位移量，并且该方法还包括：确定第一传感器相对于第一附加传感器和第二附加传感器的位置；以及基于所确定的第一传感器相对于第一附加传感器和第二附加传感器的位置，在第一位移量与第二位移量之间进行内插，其中，对在吸气期与呼气期之间第一传感器的位置位移的计算是基于所内插的量。一些实现方式还包括访问表示下述的数据：表示组织部位的形貌的模型，以及场的坐标系与模型的坐标系之间的映射；确定仪器的位置是基于映射、频率以及EM传感器在场内的位置。在一些实现方式中，组织部位包括呼吸气道，并且该方法还包括：计算在患者呼吸的吸气期与呼气期之间至少一个附加传感器的至少一个位移量；基于所计算的至少一个位移量来估计模型的至少一部分的移动矢量；基于所估计的移动矢量在坐标系内对模型进行平移；以及基于经平移的模型来确定仪器的位置。一些实现方式还包括基于下述内容在坐标系内对模型进行平移：基于第一位移量将模型的第一部分移动至第一新坐标；以及基于第二位移量将模型的第二部分移动至第二新坐标。</td></tr><tr><td class="content" id="description_33">另一方面涉及一种被配置成对患者的腔网络进行导航的系统，系统包括：场发生器，被配置成生成电磁(EM)场；在可操纵仪器的远端处包括的一组一个或更多个EM传感器；至少一个呼吸传感器；存储有可执行指令的至少一个计算机可读存储器；以及一个或更多个处理器，该一个或更多个处理器与至少一个计算机可读存储器进行通信，并且被配置成执行指令以使系统至少：访问表示腔网络的术前模型；访问EM场的坐标系与术前模型的坐标系之间的映射；基于来自一组EM传感器的数据信号来计算一组EM传感器在EM场内的位置；基于映射以及一组EM传感器在EM场内的位置来确定可操纵仪器的远端相对于术前模型的位置；基于来自至少一个呼吸传感器的数据来确定在从一组EM传感器获取数据信号期间患者的呼吸期是与吸气期对应还是与呼气期对应；并且基于可操纵仪器的远端相对于模型的位置和呼吸期来确定是否针对可操纵仪器的下一移动激活安全模式。</td></tr><tr><td class="content" id="description_34">在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统激活安全模式，并且在该安全模式下实现一个或更多个安全特征以引导下一移动与呼吸期的同步。</td></tr><tr><td class="content" id="description_35">在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统：访问关于通过腔网络去往靶组织部位的导航路径的信息；基于该导航路径和可操纵仪器的远端相对于术前模型的位置来识别出该可操纵仪器的远端在使用时被定位在腔网络的预先限定的安全区内；并且基于确定可操纵仪器的远端被定位在该预先限定的安全区内来激活安全模式。在一些实现方式中，导航路径包括多个区，并且该安全区位于腔网络的下述部分中，在该部分中呼吸通道直径与可操纵仪器的远端的直径之间的差下降至预定值以下。</td></tr><tr><td class="content" id="description_36">在一些实现方式中，在安全模式下，一个或更多个处理器被配置成执行指令以使系统向用户输出表示呼吸期的信息。</td></tr><tr><td class="content" id="description_37">一些实现方式还包括机器人系统，该机器人系统包括：显示器；输入装置，被配置成响应于输入装置的用户操作来生成用于控制可操纵仪器的移动的信号；以及仪器驱动器，被配置成基于来自输入装置的信号来影响可操纵仪器的移动。在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统响应于激活安全模式而防止仪器驱动器在患者呼吸的呼气期期间致动。在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统通过忽视基于输入装置的用户操作尝试对仪器驱动器的致动来防止该仪器驱动器致动。在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统输出呼吸的吸气期和呼气期的图形表示，图形表示能够被显示在显示器上。</td></tr><tr><td class="content" id="description_38">在一些实现方式中，术前模型包括患者的腔网络的三维计算机层析成像模型。</td></tr><tr><td class="content" id="description_39">另一方面涉及一种被配置成引导患者的腔网络的导航的设备，该设备包括：存储有可执行指令的至少一个计算机可读存储器；以及一个或更多个处理器，该一个或更多个处理器与至少一个计算机可读存储器进行通信，并且被配置成执行指令以使设备至少：访问与下述对应的数据：表示腔网络的模型、模型的坐标系与在腔网络周围生成的电磁(EM)场的坐标系之间的映射、来自在使用时插入腔网络的可操纵仪器的远端的EM传感器的信号以及来自被配置成检测腔网络的移动的至少一个附加传感器的信号；基于与来自EM传感器的信号对应的数据来计算EM传感器在EM场内的位置；基于可操纵仪器的远端相对于模型的位置来计算该可操纵仪器的下一移动；基于与来自至少一个附加传感器的信号对应的数据来确定在从第一传感器获取信号期间患者的呼吸期是与吸气期对应还是与呼气期对应；并且基于呼吸期来确定是否针对可操纵仪器的下一移动激活安全模式。</td></tr><tr><td class="content" id="description_40">在一些实现方式中，至少一个附加传感器包括一个或更多个EM传感器。</td></tr><tr><td class="content" id="description_41">在一些实现方式中，至少一个附加传感器包括加速度计。</td></tr><tr><td class="content" id="description_42">在一些实现方式中，至少一个附加传感器包括声学呼吸传感器，该声学呼吸传感器被配置成在患者呼吸期间检测周期性移动。</td></tr><tr><td class="content" id="description_43">在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统激活安全模式，并且在安全模式下实现一个或更多个安全特征以引导下一移动与呼吸期的同步。</td></tr><tr><td class="content" id="description_44">在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统：访问关于通过腔网络去往靶组织部位的导航路径的信息；基于导航路径和可操纵仪器的远端相对于术前模型的位置来识别出可操纵仪器的远端在使用时被定位在腔网络的预先限定的安全区内；并且基于确定可操纵仪器的远端被定位在预先限定的安全区内来激活安全模式。在一些实现方式中，导航路径包括多个区，并且该安全区位于腔网络的下述部分中，在该部分中呼吸通道直径与可操纵仪器的远端的直径之间的差下降至预定值以下。在一些实现方式中，在安全模式下，一个或更多个处理器被配置成执行指令以使系统向用户输出表示呼吸期的信息。</td></tr><tr><td class="content" id="description_45">一些实现方式还包括机器人系统，该机器人系统包括：显示器；输入装置，被配置成响应于输入装置的用户操作来生成用于控制可操纵仪器的移动的信号；以及仪器驱动器，被配置成基于来自输入装置的信号来影响可操纵仪器的移动。在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统响应于激活安全模式而防止仪器驱动器在患者呼吸的一个或更多个呼气期期间致动。在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统通过忽视基于输入装置的用户操作尝试对仪器驱动器的致动来防止仪器驱动器致动。在一些实现方式中，一个或更多个处理器被配置成执行指令以使系统输出呼吸的吸气期和呼气期的图形表示，图形表示能够被显示在显示器上。</td></tr><tr><td class="content" id="description_46">另一方面涉及一种存储有指令的非暂态计算机可读存储介质，指令在被执行时使装置的处理器至少：接收来自在使用时插入患者的腔网络的仪器上的第一传感器的第一数据，以及来自被配置成检测腔网络的移动的至少一个附加传感器的第二数据；基于第一数据来计算第一传感器在设置在组织部位周围的场内的位置；基于第二数据来确定在从第一传感器获取第一数据期间患者的呼吸期是与吸气期对应还是与呼气期对应；基于映射以及第一传感器在场内的位置来确定仪器的位置；并且基于仪器的位置和呼吸期来确定是否激活安全模式。</td></tr><tr><td class="content" id="description_47">在一些实现方式中，指令在被执行时使处理器至少接收来自至少一个附加传感器的图像数据，并且基于图像数据确定呼吸期是与吸气期对应还是与呼气期对应。</td></tr><tr><td class="content" id="description_48">在一些实现方式中，指令在被执行时使处理器至少接收来自至少一个附加传感器的加速度计数据，并且基于由加速度计数据指示的移动方向来确定呼吸期是与吸气期对应还是与呼气期对应。</td></tr><tr><td class="content" id="description_49">在一些实现方式中，指令在被执行时使处理器至少访问与下述(i)和(ii)对应的数据：(i)表示腔网络的形貌的模型以及(ii)场的坐标系与模型的坐标系之间的映射；其中，确定仪器的位置包括：基于映射和第一传感器在场内的位置来确定仪器相对于模型的位置。</td></tr><tr><td class="content" id="description_50">在一些实现方式中，指令在被执行时使处理器至少激活安全模式，并且在安全模式下实现一个或更多个安全特征以引导下一移动与呼吸期的同步。</td></tr><tr><td class="content" id="description_51">在一些实现方式中，指令在被执行时使处理器至少：访问关于通过腔网络去往靶组织部位的导航路径的信息；基于导航路径和仪器的位置来识别出仪器在使用时被定位在腔网络的预先限定的安全区内；并且基于确定仪器被定位在预先限定的安全区内来激活安全模式。在一些实现方式中，导航路径包括多个区，并且该安全区位于腔网络的下述部分中，在该部分中呼吸通道直径与可操纵仪器的远端的直径之间的差下降至预定值以下。</td></tr><tr><td class="content" id="description_52">在一些实现方式中，指令在被执行时使处理器至少响应于确定激活安全模式而向用户输出表示呼吸期的信息。</td></tr><tr><td class="content" id="description_53">在一些实现方式中，指令在被执行时使处理器至少响应于确定激活安全模式而防止机器人仪器驱动器在患者呼吸的呼气期期间致动，机器人仪器驱动器被配置成影响仪器通过腔网络的移动。</td></tr><tr><td class="content" id="description_54">另一方面涉及一种方法，包括：接收来自在使用时插入患者的腔网络的仪器上的第一传感器的第一数据，以及来自被配置成检测腔网络的移动的至少一个附加传感器的第二数据；基于第一数据来计算第一传感器在设置在组织部位周围的场内的位置；基于第二数据来确定在从第一传感器获取第一数据期间患者的呼吸期是与吸气期对应还是与呼气期对应；基于第一传感器在场内的位置来确定仪器的位置；基于该位置来确定仪器的下一移动；以及基于呼吸期来确定是否针对下一移动激活安全模式。</td></tr><tr><td class="content" id="description_55">一些实现方式可以由一个或更多个硬件处理器来执行。</td></tr><tr><td class="content" id="description_56">一些实现方式还包括：激活安全模式；以及在安全模式下实现一个或更多个安全特征以引导下一移动与呼吸期的同步。</td></tr><tr><td class="content" id="description_57">一些实现方式还包括访问与下述(i)和(ii)对应的数据：(i)表示腔网络的形貌的模型以及(ii)场的坐标系与模型的坐标系之间的映射；其中，确定仪器的位置包括：基于映射和第一传感器在场内的位置来确定仪器相对于模型的位置。</td></tr><tr><td class="content" id="description_58">一些实现方式还包括：访问关于通过腔网络去往靶组织部位的导航路径的信息；基于导航路径和仪器的位置来识别出仪器在使用时被定位在腔网络的预先限定的安全区内；并且基于确定仪器被定位在预先限定的安全区内来激活安全模式。</td></tr><tr><td class="content" id="description_59">一些实现方式还包括：响应于确定激活安全模式而向用户输出表示呼吸期的信息。</td></tr><tr><td class="content" id="description_60">一些实现方式还包括：响应于确定激活安全模式而防止机器人仪器驱动器在患者呼吸的呼气期期间致动，机器人仪器驱动器被配置成影响仪器通过腔网络的移动。在一些实现方式中，防止机器人仪器驱动器致动包括：在呼气期或后续的呼气期期间忽视用户输入以执行下一移动。</td></tr><tr><td class="content" id="description_61">附图说明</td></tr><tr><td class="content" id="description_62">在下文中将结合附图和附加物来描述所公开的各方面，提供这些附图和附加物是为了说明而不是限制所公开的各方面，其中，相似的标记表示相似的元件。</td></tr><tr><td class="content" id="description_63">图1A示出了实现所公开的导航系统和技术的示例操作环境。</td></tr><tr><td class="content" id="description_64">图1B示出了在图1A的环境中被导航的示例腔网络。</td></tr><tr><td class="content" id="description_65">图1C示出了用于引导仪器移动通过图1B的腔网络的示例机器人臂。</td></tr><tr><td class="content" id="description_66">图2示出了根据一个实施方式的用于示例手术机器人系统的示例命令控制台。</td></tr><tr><td class="content" id="description_67">图3示出了如本文中所描述的具有成像和EM感测能力的示例内窥镜。</td></tr><tr><td class="content" id="description_68">图4描绘了如本文中所描述的导航系统的示意性框图。</td></tr><tr><td class="content" id="description_69">图5描绘了如本文中所描述的用于根据仪器位置估计对由于腔网络移动引起的噪声进行滤波的示例处理的流程图。</td></tr><tr><td class="content" id="description_70">图6A至图6C描绘了可以用于调整图5的块的各种示例处理的流程图。</td></tr><tr><td class="content" id="description_71">图7描绘了如本文中所描述的用于在腔网络导航期间激活安全模式的示例处理的流程图。</td></tr><tr><td class="content" id="description_72">图8A和图8B示出了如本文中所描述的可以在安全模式下的腔网络导航期间呈现给用户的示例用户界面。</td></tr><tr><td class="content" id="description_73">具体实施方式</td></tr><tr><td class="content" id="description_74"><base:Underline>引言</base:Underline></td></tr><tr><td class="content" id="description_75">本公开内容的实施方式涉及通过以下来促进通过诸如肺气道的腔网络的导航的系统和技术：分析多个导航相关数据源以提高医疗仪器在腔网络内的位置和取向的估计的准确性；对仪器位置数据进行滤波以去除由腔网络的周期性移动引起的噪声和/或激活呼吸门控和基于周期性移动修改导航控制的其他类型的安全特征。</td></tr><tr><td class="content" id="description_76">支气管镜可以包括允许医师检查患者的气管和气道的光源和小型摄像装置。如果支气管镜在患者气道内的精确位置是未知的，则可能发生患者创伤。为了确定支气管镜的位置，基于图像的支气管镜检查引导系统可以使用来自支气管镜摄像装置的数据在患者气道的分叉处执行局部配准(local registration)(例如，腔网络内的特定位置处的配准)，并且因此可以有利地更不易受由于患者呼吸运动引起的位置误差的影响。然而，由于基于图像的引导方法依赖于支气管镜视频，因此基于图像的引导方法可能受到由患者咳嗽或黏液阻塞等引起的支气管镜视频中的伪影(artifacts)的影响。</td></tr><tr><td class="content" id="description_77">电磁导航引导支气管镜检查(EMN支气管镜检查)是一种实现电磁(EM)技术以定位和引导内窥镜工具或导管通过肺的支气管通路的支气管镜检查过程。EMN支气管镜检查系统可以使用EM场发生器，EM场发生器发射低强度、变化的EM场并且建立患者腔网络周围的跟踪体积(tracking volume)的位置。EM场是由带电对象产生的物理场，其影响场附近的带电对象的行为。附接至位于所生成的场内的对象的EM传感器可以用于跟踪这些对象在EM场内的位置和取向。通过变化的电磁场在EM传感器中感应出小电流。这些电信号的特性取决于传感器与EM场发生器之间的距离和角度。因此，EMN支气管镜检查系统可以包括：EM场发生器；可操纵通道，在可操纵通道的远端尖端处或附近具有EM传感器；以及引导计算系统。EM场发生器在患者的要被导航的腔网络例如气道、胃肠道或循环通路周围生成EM场。可操纵通道通过支气管镜的工作通道被插入并且经由EM传感器在EM场中被跟踪。</td></tr><tr><td class="content" id="description_78">在开始EMN支气管镜检查过程之前，可以例如从术前计算机层析成像(CT)胸部扫描获得患者特定气道结构的虚拟三维(3D)支气管图。使用该图和EMN支气管镜检查系统，医师可以导航到肺内的期望位置以进行活检病变、分期淋巴结、插入标记以引导放射治疗或引导近距离放射治疗导管。例如，可以在过程开始时执行配准，以生成EM场的坐标系与模型坐标系之间的映射。因此，当在支气管镜检查期间跟踪可操纵通道时，基于来自EM传感器的位置数据，可操纵通道在模型坐标系中的位置名义上已知。然而，患者的呼吸引起胸部移动，这可能在将可操纵仪器和/或模型的位置与EM场的坐标系相关联时导致误差。这些误差可能在外周气道中被放大，这是因为气道分支变得更小并且由于患者呼吸而经历更大的移动。</td></tr><tr><td class="content" id="description_79">如本文中所使用的，坐标系是特定感测模态的参考系。例如，对于EM数据，EM坐标系是由EM场的源(例如，场发生器)限定的参考系。对于CT图像和分段3D模型，该参考系基于由扫描仪限定的系。本导航系统解决了将这些不同数据源(其在它们自己的参考系中)表示(配准)到3D模型(即，CT系)的导航问题，例如以显示仪器在模型内部的位置。</td></tr><tr><td class="content" id="description_80">因此，如下面更详细描述的，所公开的腔网络导航系统和技术可以组合来自基于图像的导航系统、机器人系统和EM导航系统的输入以及来自其他患者传感器的输入，以减轻导航问题并且实现更有效的内窥镜检查过程。例如，导航融合框架可以分析从仪器摄像装置接收到的图像信息、来自仪器尖端上的EM传感器的位置信息以及来自引导仪器移动的机器人系统的机器人位置信息。基于该分析，导航融合框架可以基于这些类型的导航数据中的一个或更多个来进行仪器位置估计和/或导航决定。导航融合框架的一些实现方式可以进一步确定相对于腔网络的3D模型的仪器位置。在一些实施方式中，可以对来自EM传感器的仪器位置信息进行滤波以去除由于腔网络的周期性运动——例如由于气道导航中的呼吸或由于循环系统导航中的脉动血流——引起的信号噪声。可以从来自一个或更多个附加传感器的数据获得周期性运动的频率。例如，可以基于来自放置在患者身体上的附加EM传感器、加速度计和/或听觉呼吸传感器和/或定位在用于观察患者移动的视野内的光学传感器的数据来确定吸气和呼气循环。一些实施方式可以基于腔网络的仪器位置和周期性运动中的一者或两者来实现导航安全特征。例如，在支气管镜检查实现方式中，安全特征可以包括呼气循环信息的显示和/或施加在呼气期间的仪器插入上的限制。</td></tr><tr><td class="content" id="description_81">所公开的系统和技术可以为包括用于腔网络导航的其他类型的内窥镜过程的支气管镜检查引导系统和其他应用提供优势。在解剖学中，“腔”可以指诸如气道、血管或肠的管状器官的内部开放空间或腔。如本文中所使用的，“腔网络”是指具有通向靶组织部位的至少一个腔的解剖结构，例如，肺的气道、循环系统和胃肠道系统。因此，尽管本公开内容提供了与支气管镜检查有关的导航系统的示例，但是应当理解，所公开的安全和数据滤波方面适用于对患者的动态腔网络进行导航的其他医疗系统。</td></tr><tr><td class="content" id="description_82">出于说明的目的，下面将结合附图描述各种实施方式。应当理解，所公开的构思的许多其他实现方式是可能的，并且利用所公开的实现方式可以实现各种优点。本文中包括标题以供参考，并且标题有助于定位各个部分。这些标题不旨在限制关于其所描述的构思的范围。这些构思可以适用于整个说明书。</td></tr><tr><td class="content" id="description_83"><base:Underline>示例导航系统的概述</base:Underline></td></tr><tr><td class="content" id="description_84">图1A示出了实现所公开的导航系统和技术的一个或更多个方面的示例操作环境100。操作环境100包括患者101、支承患者101的平台102、引导内窥镜115的移动的手术机器人系统110、用于控制手术机器人系统110的操作的命令中心105、EM控制器135、EM场发生器120以及EM传感器125、130。图1A还示出了患者101内的腔网络140的区域的轮廓，该腔网络140在图1B中更详细地示出。</td></tr><tr><td class="content" id="description_85">手术机器人系统110可以包括用于定位和引导内窥镜115通过患者101的腔网络140的移动的一个或更多个机器人臂。命令中心105可以通信耦接至手术机器人系统110以用于接收位置数据和/或提供来自用户的控制信号。如本文中所使用的，“通信耦接”是指任何有线和/或无线数据传输介质，包括但不限于无线广域网(WWAN)(例如，一个或更多个蜂窝网络)、无线局域网(WLAN)(例如，配置用于一个或更多个标准，例如IEEE 802.11(Wi-Fi))、蓝牙、数据传输线缆等。关于图1C更详细地讨论手术机器人系统110，并且关于图2更详细地讨论命令中心105。</td></tr><tr><td class="content" id="description_86">内窥镜115可以是管状且柔性的手术仪器，其插入患者的解剖结构中以捕获解剖结构(例如，身体组织)的图像，并且提供用于将其他医疗仪器插入靶组织部位的工作通道。在一些实现方式中，内窥镜115可以是支气管镜。内窥镜115可以在其远端包括一个或更多个成像装置(例如，摄像装置或其他类型的光学传感器)。成像装置可以包括一个或更多个光学部件，例如光纤、光纤阵列、光敏基板和/或透镜。光学部件与内窥镜115的尖端一起移动，使得内窥镜115的尖端的移动引起由成像装置捕获的图像的视野的对应改变。内窥镜115的远端可以设置有用于跟踪远端在腔网络140周围产生的EM场内的位置的一个或更多个EM传感器125。在下面进一步参照图3描述内窥镜115的远端。</td></tr><tr><td class="content" id="description_87">EM控制器135可以控制EM场发生器120以产生变化的EM场。取决于实施方式，EM场可以是随时间变化的和/或随空间变化的。在一些实施方式中，EM场发生器120可以是EM场生成板。所公开的患者导航系统的一些实施方式可以使用位于患者与支承患者的平台102之间的EM场发生器板，并且EM场发生器板可以包括薄隔板，该薄隔板使由位于其下方的导电或磁性材料引起的任何跟踪失真最小化。在其他实施方式中，EM场发生器板可以安装在例如与手术机器人系统110中所示的机器人臂类似的机器人臂上，这可以在患者周围提供灵活的设置选项。</td></tr><tr><td class="content" id="description_88">并入命令中心105、手术机器人系统110和/或EM控制器135中的EM空间测量系统可以确定嵌入或设置有诸如EM传感器125、130的EM传感器线圈的对象在EM场内的位置。当EM传感器被放置在如本文中所描述的受控的变化EM场内时，在传感器线圈中感应出电压。EM空间测量系统可以使用这些感应电压来计算EM传感器的位置和取向，从而计算具有EM传感器的对象的位置和取向。由于磁场具有低场强并且可以安全地穿过人体组织，因此可以在没有光学空间测量系统的视线限制的情况下进行对象的位置测量。</td></tr><tr><td class="content" id="description_89">EM传感器125可以耦接至内窥镜115的远端，以跟踪其在EM场内的位置。EM场相对于EM场发生器是静止的，并且腔网络的3D模型的坐标系可以被映射到EM场的坐标系。然而，由于患者的呼吸循环，患者的气道以及因此位于气道内的内窥镜115的远端会表现出相对于EM场发生器120的移动，导致在确定内窥镜115的远端相对于模型的位置时的潜在误差。</td></tr><tr><td class="content" id="description_90">因此，可以在患者的身体表面上(例如，在腔网络140的区域中)设置若干附加的EM传感器130，以跟踪由呼吸引起的位移。若干不同的EM传感器130可以在身体表面上间隔开，以跟踪这些位置处的不同位移。例如，肺的外周可能由于呼吸而表现出比中央气道更大的运动，并且如图所示设置若干EM传感器130可以实现对这些运动影响的更精确分析。为了说明，内窥镜115的远端行进通过腔网络140的不同区域，因此当内窥镜115的远端行进通过这些不同区域时，由于患者呼吸而经历不同程度的位移。所公开的位置滤波技术可以将内窥镜115的远端的近似位置与一个或更多个附加EM传感器130相关联，并且可以使用这些特定的附加EM传感器的识别的位移量、经由对内窥镜位置信号的呼吸运动伪影分量的滤波/去除来校正内窥镜位置信号中由于气道移动导致的噪声或伪影。</td></tr><tr><td class="content" id="description_91">在其他实施方式中，可以代替附加EM传感器130或除了附加EM传感器130以外还使用被配置成检测患者的腔网络的移动的其他类型的传感器。例如，一个或更多个惯性传感器(例如，加速度计(s)、陀螺仪等)可以定位在患者的身体表面上，以帮助估计胸部表面在呼吸期间的位移。在另一示例中，听觉呼吸传感器可以放置在气道区域(例如，腔网络区域140)中的患者身体表面上并且用于测量呼吸循环的吸气期和呼气期。在另一示例中，光学传感器(例如，成像装置)可以捕获患者身体的图像流，并且可以分析这些图像以识别呼吸期和/或位移。在一些实现方式中，患者101可以在手术期间在呼吸机的帮助下进行呼吸，并且呼吸机(和/或与呼吸机通信耦接的装置)可以提供表示呼吸循环的吸气期和呼气期的数据。</td></tr><tr><td class="content" id="description_92">图1B示出了可以在图1A的操作环境100中被导航的示例腔网络140。腔网络140包括患者的气道150的分支结构以及可以如本文中所描述的那样被访问以用于诊断和/或治疗的病变155。如图所示，病变155位于气道150的外周处。内窥镜115具有第一直径，并且因此其远端不能通过病变155周围的较小直径气道而定位。因此，可操纵导管155从内窥镜115的工作通道向病变155延伸剩余距离。可操纵导管145可以具有如下腔，诸如活检针、细胞刷和/或组织取样钳的仪器可以通过该腔传递到病变155的靶组织部位。在这样的实现方式中，内窥镜115的远端和可操纵导管145的远端都可以设置有用于跟踪它们在气道150内的位置的EM传感器。在其他实施方式中，内窥镜115的总直径可以足够小以在没有可操纵导管155的情况下到达所述外周，或者可以足够小以接近所述外周(例如，在2.5cm至3cm内)，从而通过不可操纵的导管来部署医疗仪器。通过内窥镜115部署的医疗仪器可以配备有EM传感器，并且下面描述的位置滤波和安全模式导航技术可以应用于这样的医疗仪器。</td></tr><tr><td class="content" id="description_93">在一些实施方式中，如本文中所描述的3D腔网络模型的2D显示或3D模型的截面可以类似于图1B。导航安全区和/或导航路径信息可以覆盖在这样的表示上。</td></tr><tr><td class="content" id="description_94">图1C示出了用于引导仪器移动通过图1B的腔网络140的手术机器人系统110的示例机器人臂175。手术机器人系统110包括耦接至一个或更多个机器人臂例如机器人臂175的基座180。机器人臂175包括在关节165处耦接的多个臂段170，关节165为机器人臂175提供多个自由度。作为示例，机器人臂175的一个实现方式可以具有与七个臂段对应的七个自由度。在一些实施方式中，机器人臂175包括设置关节，该设置关节使用制动器和平衡件(counter-balance)的组合来维持机器人臂175的位置。平衡件可以包括气弹簧或螺旋弹簧。制动器例如故障安全制动器可以包括机械和/或电气部件。此外，机器人臂175可以是重力辅助的被动支承型机器人臂。</td></tr><tr><td class="content" id="description_95">机械臂175可以使用机构转换接口(MCI)160耦接至仪器装置操纵器(IDM)190。IDM190可以被移除并且用不同类型的IDM——例如，被配置成操纵内窥镜的第一类型的IDM或被配置成操纵腹腔镜的第二类型的IDM——替换。MCI 160包括用于将气动压力、电功率、电信号和光信号从机器人臂175传送至IDM 190的连接器。MCI 160可以是固定螺钉或底板连接器。IDM 190使用包括直接驱动、谐波驱动、齿轮传动、皮带轮、磁驱动等的技术来操纵诸如内窥镜115的手术仪器。MCI 116能够基于IDM 190的类型互换并且可以针对特定类型的手术过程进行定制。机器人臂175在远端处可以包括关节级扭矩感测和手腕。</td></tr><tr><td class="content" id="description_96">手术机器人系统110的机械人臂175可以使用细长移动构件操纵内窥镜115。细长移动构件可以包括拉线，也称为拉线或推线、线缆、光纤或柔性轴。例如，机器人臂175可以致动耦接至内窥镜115的多个拉线以使内窥镜115的尖端偏转。拉线可以包括金属和非金属材料两者，例如不锈钢、凯夫拉、钨、碳纤维等。内窥镜115可以响应于由细长移动构件施加的力而表现出非线性行为。非线性行为可以基于内窥镜115的刚度和可压缩性以及不同细长移动构件之间的松弛或刚度的可变性。</td></tr><tr><td class="content" id="description_97">基座180可以定位成使得机器人臂175可以进入以执行或辅助对患者的手术过程，同时诸如医师的用户可以根据命令控制台的舒适性来控制手术机器人系统110。在一些实施方式中，基座180可以被耦接至用于支承患者的手术操作台或床。基座180可以通信耦接至图1A中所示的命令控制台105。</td></tr><tr><td class="content" id="description_98">基座180可以包括动力源182、气动压力186以及控制和传感器电子设备184——包括诸如中央处理单元、数据总线、控制电路和存储器的部件——以及诸如用于移动机器人臂175的马达的相关致动器。电子设备184可以实现本文中描述的导航控制技术、安全模式和/或数据滤波技术。基座180中的电子设备184还可以处理和传输从命令控制台传送的控制信号。在一些实施方式中，基座180包括用于运输手术机器人系统110的轮188和用于轮188的轮锁/制动器(未示出)。手术机器人系统110的移动性有助于适应手术操作室中的空间限制以及便于手术设备的适当定位和移动。此外，移动性允许机器人臂175被配置成使得机器人臂175不会干扰患者、医师、麻醉师或任何其他设备。在过程期间，用户可以使用控制装置例如命令控制台来控制机器人臂175。</td></tr><tr><td class="content" id="description_99">图2示出了可以例如用作示例操作环境100中的命令控制台105的示例命令控制台200。命令控制台200包括控制台基座201、诸如监视器的显示模块202以及诸如键盘203和操纵杆204的控制模块。在一些实施方式中，命令控制台200功能中的一个或更多个可以被集成到手术机器人系统110的基座180或通信耦接至手术机器人系统110的另一系统中。诸如医师的用户205使用命令控制台200从人机控制位置远程控制手术机器人系统110。</td></tr><tr><td class="content" id="description_100">控制台基座201可以包括中央处理单元、存储器单元、数据总线和相关联的数据通信端口，其负责解释和处理诸如摄像装置图像的信号并且跟踪例如来自图1A至图1C所示的内窥镜115的传感器数据。在一些实施方式中，控制台基座201和基座180两者都执行用于负载平衡的信号处理。控制台基座201还可以通过控制模块203和204处理由用户205提供的命令和指令。除了图2所示的键盘203和操纵杆204以外，控制模块还可以包括捕获手部姿势和手指姿势的其他装置，例如，计算机鼠标、轨迹板、轨迹球、控制板、诸如手持式远程控制器的控制器以及传感器(例如，运动传感器或摄像装置)。控制器可以包括映射到仪器的操作(例如，接合、驱动、水冲洗等)的一组用户输入(例如，按钮、操纵杆、方向垫等)。</td></tr><tr><td class="content" id="description_101">用户205可以使用命令控制台200以速度模式或位置控制模式控制诸如内窥镜115的手术仪器。在速度模式下，用户205基于使用控制模块的直接手动控制直接控制内窥镜115的远端的俯仰和横摆移动。例如，操纵杆204上的移动可以被映射到内窥镜115的远端中的横摆和俯仰移动。操纵杆204可以向用户205提供触觉反馈。例如，操纵杆204可以振动以指示内窥镜115不能在某个方向上进一步平移或旋转。命令控制台200还可以提供视觉反馈(例如，弹出消息)和/或音频反馈(例如，蜂鸣声)以指示内窥镜115已经达到最大平移或旋转。如下面更详细描述的，由于系统在患者呼气期间在安全模式下操作，因此也可以提供触觉和/或视觉反馈。</td></tr><tr><td class="content" id="description_102">在位置控制模式下，命令控制台200使用如本文中所描述的患者腔网络的三维(3D)图和来自导航传感器的输入来控制手术仪器，例如内窥镜115。命令控制台200向手术机器人系统110的机器人臂175提供控制信号以将内窥镜115操纵到靶位置。由于依赖于3D图，因此位置控制模式可能需要患者的解剖结构的准确映射。</td></tr><tr><td class="content" id="description_103">在一些实施方式中，用户205可以在不使用命令控制台200的情况下手动操纵手术机器人系统110的机器人臂175。在手术操作室中的设置期间，用户205可以移动机器人臂175、内窥镜115(或多个内窥镜)和其他手术设备以进入患者。手术机器人系统110可以依赖于来自用户205的力反馈和惯性控制以确定机器人臂175和设备的适当配置。</td></tr><tr><td class="content" id="description_104">显示器202可以包括电子监视器(例如，LCD显示器、LED显示器，触敏显示器)、诸如护目镜或眼镜的虚拟现实观察装置和/或其他显示装置。在一些实施方式中，显示模块202与控制模块集成在一起，例如，作为具有触摸屏的平板装置。在一些实施方式中，显示器202中的一个可以显示患者的腔网络的3D模型和虚拟导航信息(例如，基于EM传感器位置的模型内的内窥镜的端部的虚拟表示)，而显示器202中的另一个可以显示从内窥镜115的端部处的摄像装置或另一感测装置接收到的图像信息。在一些实施方式中，用户205可以使用集成的显示器202和控制模块查看数据并且向手术机器人系统110输入命令。显示器202可以使用诸如遮阳板或护目镜的立体装置显示3D图像和/或3D图像的2D渲染。3D图像提供“内视图”(即，内窥镜视图)，其是示出患者的解剖结构的计算机3D模型。“内视图”提供患者内部的虚拟环境和患者内部的内窥镜115的预期位置。用户205将“内视图”模型与由摄像装置捕获的实际图像进行比较以帮助在心理上定向并且确认内窥镜115处于患者内部的正确——或近似正确——的位置。“内视图”提供与内窥镜115的远端周围的解剖结构——如患者的气道、循环血管、或者肠或结肠的形状——有关的信息。显示模块202可以同时显示内窥镜115的远端周围的解剖结构的3D模型和CT扫描。此外，显示模块202可以在3D模型和CT扫描上覆盖内窥镜115的已经确定的导航路径。</td></tr><tr><td class="content" id="description_105">在一些实施方式中，内窥镜115的模型与3D模型一起被显示以帮助指示手术过程的状态。例如，CT扫描识别可能需要活检的解剖结构中的病变。在操作期间，显示模块202可以示出由内窥镜115捕获的与内窥镜115的当前位置对应的参考图像。显示模块202可以根据用户设置和特定手术过程自动显示内窥镜115的模型的不同视图。例如，当内窥镜115接近患者的操作区域时，显示模块202在导航步骤期间示出内窥镜115的顶部荧光透视图。</td></tr><tr><td class="content" id="description_106">图3示出了如本文所描述的具有成像和EM感测能力的示例内窥镜例如图1A至图1C的内窥镜115的远端300。在图3中，内窥镜的远端300包括成像装置315、照明源310和EM传感器线圈305的端部。远端300还包括通向内窥镜的工作通道320的开口，手术仪器例如活检针、细胞刷和镊子通过该开口可以沿着内窥镜轴插入，从而允许进入内窥镜尖端附近的区域。</td></tr><tr><td class="content" id="description_107">照明源310提供光以照亮解剖空间的一部分。照明源可以是各自被配置成发射选定波长或波长范围的光的一个或更多个发光装置。波长可以是任何合适的波长，例如可见光谱光、红外光、X射线(例如用于荧光透视)，仅以这几个示例为例。在一些实施方式中，照明源310可以包括位于远端300处的发光二极管(LED)。在一些实施方式中，照明源310可以包括一个或更多个纤维光纤，其从远程光源例如x射线发生器延伸穿过内窥镜的长度以透射光通过远端300。在远端300包括多个照明源310的情况下，这些照明源310可以各自被配置成发射彼此相同或不同波长的光。</td></tr><tr><td class="content" id="description_108">成像装置315可以包括被配置成将表示接收到的光的能量转换成电信号的任何光敏基板或结构，例如电荷耦合器件(CCD)或互补金属氧化物半导体(CMOS)图像传感器。成像装置315的一些示例可以包括一个或更多个光纤，例如光纤束，其被配置成从内窥镜的远端300向内窥镜的近端处的目镜和/或图像传感器传输图像。成像装置315可以另外包括根据各种光学设计所需的一个或更多个透镜和/或波长通过或截止滤光器。从照明源310发射的光允许成像装置315捕获患者的腔网络内部的图像。然后，可以将这些图像作为单独的帧或一系列连续帧(例如视频)传输到计算机系统例如命令控制台200，用于进行如本文所描述的处理。</td></tr><tr><td class="content" id="description_109">位于远端300上的电磁线圈305可以与电磁跟踪系统一起使用，以在内窥镜的远端300被设置在解剖系统内时检测内窥镜的远端300的位置和取向。在一些实施方式中，线圈305可以沿不同轴线成角度以提供电磁场的灵敏度，赋予所公开的导航系统测量如下完整的6个自由度的能力：三个位置和三个角度。在其他实施方式中，仅单个线圈可以设置在远端300上或设置在远端300内，其中单个线圈的轴沿着内窥镜的内窥镜轴定向。由于这种系统的旋转对称性，其对绕其轴滚转不敏感，因此在这种实现方式中仅可以检测到5个自由度。</td></tr><tr><td class="content" id="description_110">图4示出了如本文所描述的示例导航融合系统400的示意性框图。如下面更详细描述的，使用框架400，来自多个不同源的数据在手术过程期间被组合并且被重复分析，以提供手术仪器(例如内窥镜)在患者的腔网络内的实时移动信息和位置/取向信息的估计并且做出导航决定。系统400包括多个数据存储库，多个数据存储库包括呼吸传感器数据存储库405、内窥镜EM传感器数据存储库415、配准数据存储库475、模型数据存储库425、内窥镜成像数据存储库480、导航路径数据存储库445、安全区数据存储库455以及机器人位置数据存储库470。尽管在下面的讨论中为了清楚起见在图4中被单独示出，但是将理解，一些或所有数据存储库可以一起存储在单个存储器或一组存储器中。系统400还包括多个处理模块，多个处理模块包括呼吸频率和/或呼吸期识别器410、内窥镜位置估计器420、配准计算器465、位置计算器430、图像分析器435、状态估计器440、安全模式控制器450和导航控制器460。每个模块可以表示存储器中存储的一组计算机可读指令，以及由用于一起执行下面描述的特征的指令配置的一个或更多个处理器。导航融合系统400可以例如在上述控制和传感器电子设备184和/或控制台基座201中实现为一个或更多个数据存储装置和一个或更多个硬件处理器。</td></tr><tr><td class="content" id="description_111">呼吸传感器数据存储库405是存储从呼吸传感器导出的数据的数据存储装置。如上所述，呼吸传感器可以包括EM传感器130、声学呼吸传感器、具有定位成捕获腔网络的图像的视野的图像传感器，以及呼吸机充气/放气信息。在一些实施方式中，呼吸传感器可以包括多个EM传感器130，并且对于每个传感器，呼吸传感器数据存储库405中的数据可以包括表示EM场中的传感器随时间的位置的时间相关位置数据。例如，每个传感器的数据可以以(x，y，z，t<base:Sub>n</base:Sub>)的形式存储为元组(tuple)，其中x、y和z表示在时间t<base:Sub>n</base:Sub>处EM场中的传感器的坐标。呼吸传感器数据存储库405可以存储对应于多个不同时间的每个传感器的多个这样的元组。</td></tr><tr><td class="content" id="description_112">呼吸频率和/或呼吸期识别器410是被配置成从呼吸传感器数据存储库405接收数据并且分析这些数据以计算呼吸频率和/或呼吸期的模块。频率是指连续呼吸期之间例如在吸气和呼气的连续循环之间的时间间隔。呼吸期是指呼吸循环是吸气期(例如当患者吸气时)还是呼气期(例如当患者呼气时)。一些实施方式可以使用傅立叶变换以使用来自各种实施方式中的一个或所有传感器的数据来从呼吸传感器数据中提取呼吸频率。</td></tr><tr><td class="content" id="description_113">内窥镜EM传感器数据存储库415是存储从内窥镜的远端处的EM传感器导出的数据的数据存储装置。如上所述，这样的传感器可以包括EM传感器125和EM传感器线圈305，并且所得到的数据可以用于识别传感器在EM场内的位置和取向。与来自EM呼吸传感器的数据类似，内窥镜EM传感器的数据可以以(x，y，z，t<base:Sub>n</base:Sub>)的形式存储为元组，其中x、y和z表示在时间t<base:Sub>n</base:Sub>处传感器在EM场中的坐标。一些实施方式还可以在EM传感器元组中包括仪器的滚转、俯仰和偏转。内窥镜EM传感器数据存储库415可以存储对应于多个不同时间的每个基于内窥镜的传感器的多个这样的元组。</td></tr><tr><td class="content" id="description_114">内窥镜位置估计器420是从内窥镜EM传感器数据存储库415接收数据并且在一些实施方式中另外从呼吸频率和/或呼吸期识别器410接收数据的模块，并且使用这样的数据来减少由于患者的腔网络的周期性移动而导致的从内窥镜EM传感器接收到的信号中的“噪声”。例如，在一个实现方式中，内窥镜位置估计器420可以基于所确定的呼吸频率生成滤波，并且将滤波应用于来自内窥镜EM传感器的数据。在另一实现方式中，内窥镜位置估计器420可以识别一个或更多个呼吸传感器在呼吸期间的位移量，并且可以将位移值作为偏置应用于由内窥镜EM传感器数据指示的位置。这可以例如通过在时间t<base:Sub>n</base:Sub>处识别呼吸传感器位移并且在时间t<base:Sub>n</base:Sub>处将其作为偏置应用于内窥镜位置、通过在时间t<base:Sub>n+1</base:Sub>处识别下一个呼吸传感器位移并且在时间t<base:Sub>n+1</base:Sub>处将其作为偏置应用于内窥镜位置等动态地执行。</td></tr><tr><td class="content" id="description_115">模型数据存储库425是存储表示患者的腔网络的模型的数据的数据存储装置。作为示例，可以执行术前过程以对患者的肺进行CT扫描，并且计算系统可以使用来自这些扫描的数据来建立患者的肺的3D模型。在一些示例中，这样的模型可以提供关于腔网络的结构和连通性的3D信息，包括患者气道的形貌和/或直径。一些CT扫描在屏气时进行，以使患者的气道扩张至其全直径。</td></tr><tr><td class="content" id="description_116">配准计算器465是可以识别3D模型的坐标系(例如用于生成模型的CT扫描仪的坐标系)和EM场的(例如EM场发生器120的)坐标系之间的配准或映射的模块。为了通过患者的解剖结构跟踪传感器，导航融合系统400可能需要称为“配准”的处理，通过该处理，配准计算器465找到在不同坐标系之间对准单个对象的几何变换。例如，患者上的特定解剖部位可以以3D模型坐标进行表示，并且还可以以EM传感器坐标进行表示。为了计算初始配准，配准计算器465的一个实现方式可以如以下文献中描述地执行配准：2016年9月17日提交的题为“Navigation of Tubular Networks”的美国申请第15/268,238号，其公开内容通过引用并入本文。作为一种可能的配准技术的示例，当内窥镜插入患者的气道中时，例如当内窥镜到达各种分叉处时，配准计算器465可以在多个不同点处从内窥镜成像数据存储库480和EM传感器数据存储库415接收数据。图像数据可以用于例如经由自动特征分析识别内窥镜的远端何时到达分叉处。当内窥镜位于分叉处时，配准计算器465可以从内窥镜EM传感器数据存储库415接收数据并且识别内窥镜的远端处的EM传感器的位置。一些示例不仅可以使用分叉而且可以使用患者气道中的其他点，并且可以将这些点映射到气道的“骨架”模型中的对应点。配准计算器465可以使用将至少三个EM位置链接到模型中的点的数据，以便识别EM场和模型之间的几何变换。另一实施方式可以涉及手动配准，例如通过从患者气道的第一分叉和从左肺和右肺中的另外两个分叉中取出至少3个，并且可以使用相应点来计算配准。用于执行几何变换的数据(也称为配准数据)可以作为配准数据存储在配准数据存储库475中。</td></tr><tr><td class="content" id="description_117">在确定初始配准之后，配准计算器465可以基于所接收的数据更新其对配准变换的估计，以便增加变换准确度以及补偿导航系统的变化，例如由于患者的移动引起的变化。在一些方面，配准计算器465可以以限定的间隔和/或基于内窥镜(或其部件)在腔网络中的位置连续地更新对配准变换的估计。</td></tr><tr><td class="content" id="description_118">配准数据存储库475是存储配准数据的数据存储装置，如刚才所讨论的，配准数据可用于执行从EM场的坐标系到模型的坐标系的几何变换。在上面已经讨论，在一些实现方式中，配准数据可以由配准计算器465生成，并且可以被连续地或定期地更新。</td></tr><tr><td class="content" id="description_119">位置计算器430是从模型数据存储库425、配准数据存储库475和内窥镜位置估计器420接收数据以将EM传感器坐标转换成3D模型坐标的模块。如上所述，内窥镜位置估计器420计算EM传感器相对于EM场发生器的位置的初始位置。该位置还对应于3D模型内的位置。为了将EM传感器的初始位置从EM坐标系转换到模型坐标系，位置计算器430可以访问如配准数据存储库475中存储的EM坐标系和模型坐标系之间的映射(例如配准数据)。为了将内窥镜位置转换到3D模型坐标系，位置计算器430从模型数据存储库425接收表示3D模型的形貌的数据、从配准数据存储库475接收表示EM场和3D模型的坐标系之间的配准的数据、并且从内窥镜位置估计器420接收内窥镜在EM场中的位置作为输入。一些实施方式还可以从状态估计器440接收先前估计的状态数据。基于接收到的数据，位置计算器430可以执行例如EM传感器位置数据到3D模型中的位置的动态变换。这可以表示对内窥镜的远端在3D模型的形貌内的位置的初步估计，并且可以被设置为状态估计器440的一个输入，用于生成对内窥镜位置的最终估计，如下面更详细地描述的。</td></tr><tr><td class="content" id="description_120">内窥镜成像数据存储库480是存储从内窥镜的摄像装置例如成像装置315接收的图像数据的数据存储装置。在各种实施方式中，图像数据可以是视频序列中的离散图像或一系列图像帧。</td></tr><tr><td class="content" id="description_121">图像分析器435是从内窥镜成像数据存储库480和模型数据存储库425接收数据并且可以比较该数据以确定内窥镜定位的模块。例如，图像分析器435可以从模型扫描访问气道树的体积渲染或表面渲染的腔内图像，并且可以将渲染的图像与来自成像装置315的实时图像或视频帧进行比较。例如，图像可以被配准(例如使用Powell的优化、单纯形或梯度方法、具有归一化互相关的梯度下降算法或作为成本的互信息)，并且然后可以使用平方差误差和归一化互信息的加权归一化和来比较从两个源获得的配准图像。来自扫描的2D图像和从内窥镜接收的2D图像之间的相似性可以指示内窥镜位于来自扫描的图像的位置附近。这种基于图像的导航可以在患者气道的分叉处执行局部配准，并且因此与EM跟踪系统相比可以更不易受到由于患者呼吸运动引起的噪声的影响。然而，由于图像分析器435依赖于内窥镜视频，因此分析可能受到由患者咳嗽或黏液阻塞引起的图像中的伪影的影响。</td></tr><tr><td class="content" id="description_122">在一些实施方式中，图像分析器435可以实现对象识别技术，通过该技术，图像分析器435可以检测图像数据的视野中存在的对象，例如分支开口、损伤或颗粒。使用对象识别，图像分析器可以输出指示关于识别哪些对象以及表示为概率的对象的位置、取向和/或大小的信息的对象数据。作为一个示例，对象识别可以用于检测可以指示腔网络中的分支点并且然后确定它们的位置、大小和/或取向的对象。在一个实施方式中，在腔网络内的给定图像中，每个分支通常将显示为暗的、近似椭圆形区域，并且这些区域可以由处理器使用区域检测算法例如最大稳定的极值区域(MSER)作为对象来自动检测。图像分析器435可以使用与其他技术结合的光反射强度来识别气道。此外，图像分析器435还可以跨一组连续图像帧跟踪检测到的对象，以检测已经进入了腔网络中的一组可能分支中的哪个分支。</td></tr><tr><td class="content" id="description_123">机器人位置数据存储库470是存储从手术机器人系统110接收的机器人位置数据——例如与手术机器人系统110的医疗仪器或医疗仪器的一部分(例如仪器尖端或远端)在腔网络内的物理移动有关的数据——的数据存储装置。示例机器人位置数据可以包括：例如指示仪器尖端到达特定解剖部位和/或改变其在腔网络内的取向(对于内窥镜仪器的引导器和护套中的一者或两者具有特定的俯仰、滚转、偏转、插入和缩回)的命令数据、表示医疗仪器的一部分(例如仪器尖端或护套)的插入运动的插入数据、IDM数据以及表示医疗仪器的细长构件的机械运动的机械数据，例如内窥镜的驱动内窥镜在腔网络内的实际运动的一个或更多个拉线、腱或轴的运动。</td></tr><tr><td class="content" id="description_124">导航路径数据存储库445是将存储表示通过腔网络去往靶组织部位的预先计划的导航路径的数据的数据存储装置。导航到患者身体的腔网络中的特定点可能需要在术前采取某些步骤，以便生成创建管状网络的3D模型并且确定其内的导航路径所需的信息。如上所述，可以生成特定患者气道的形貌和结构的3D模型。可以选择靶，例如待活检的病变或待手术修复的器官组织的一部分。在一个实施方式中，用户能够通过与可以显示3D模型的计算机显示器接口连接来选择靶的位置，例如通过利用鼠标点击或触摸触摸屏。在一些实施方式中，导航路径可以通过分析模型和识别的病变部位以编程方式来识别，以导出到病变的最短导航路径。在一些实施方式中，路径可以由医师识别，或者自动识别的路径可以由医师修改。导航路径可以识别腔网络内的一系列分支以穿过以便到达所识别的靶。</td></tr><tr><td class="content" id="description_125">状态估计器440是接收输入并执行输入的分析以确定医疗仪器的状态的模块。例如，状态估计器440可以从呼吸频率和/或呼吸期识别器410、内窥镜位置估计器420、位置计算器430、图像分析器435、导航路径数据存储库445和机器人位置数据存储库470接收数据作为输入。状态估计器440可以实现概率分析以在给定提供的输入的情况下确定腔网络内的医疗仪器的状态和对应概率。估计状态可以指以下中的一个或更多个：(1)仪器相对于腔网络模型的坐标系的x、y、z位置，(2)仪器是否位于模型的某个区域例如特定的气道分支或预先限定的安全区中，(3)仪器的俯仰、滚转、偏转、插入和/或缩回，以及(4)到靶的距离。状态估计器440可以提供仪器(或仪器的远端尖端)的估计状态作为时间的函数。</td></tr><tr><td class="content" id="description_126">在一些实施方式中，状态估计器440可以实现贝叶斯框架以确定状态和对应概率。贝叶斯统计分析从称为先验的置信开始，并且然后用观察到的数据更新该置信。先验表示对贝叶斯模型参数可能是什么的估计，并且可以表示为参数化分布。可以收集观察到的数据以获得关于参数的实际值的证据。贝叶斯分析的结果称为后验，并且表示在置信度方面表示事件的概率分布。如果获得了另外的数据，则后验可以被视为先验并且利用新数据更新。该处理采用贝叶斯规则，贝叶斯规则指示条件概率，例如在事件B发生的情况下事件A发生的可能性。</td></tr><tr><td class="content" id="description_127">关于所公开的导航融合系统400，状态估计器440可以使用先前估计的状态数据作为先验，并且可以使用来自呼吸频率和/或呼吸期识别器410、内窥镜位置估计器420、位置计算器430、图像分析器435、导航路径数据存储库445和/或机器人位置数据存储库470的输入作为观察到的数据。在过程开始时，可以使用基于视觉的初始化技术来估计气管中的初始深度和滚转，并且该估计可以被用作先验。状态估计器440可以对先验和观察到的数据执行贝叶斯统计分析，以生成表示多个可能状态中的每一个的概率和置信度值的后验分布。</td></tr><tr><td class="content" id="description_128">如本文所使用的，“概率分布”的“概率”是指估计医疗仪器的可能位置和/或取向是正确的可能性。例如，不同的概率可以通过指示医疗仪器处于腔网络内的若干不同可能分支之一中的相对可能性的算法模块之一来计算。在一个实施方式中，选择概率分布的类型(例如离散分布或连续分布)以匹配估计状态的特征(例如估计状态的类型，例如连续位置信息与离散分支选择)。作为一个示例，用于识别医疗仪器在三叉的哪个分段中的估计状态可以由离散概率分布表示，并且可以包括20％、30％和50％的三个离散值，其表示处于如由算法模块中的一个确定的三个分支中的每一个内的位置中的机会。作为另一示例，所估计的状态可以包括40±5度的医疗仪器的滚转角，并且仪器尖端在分支内的分段深度可以是4±1mm，每个由作为连续概率分布的类型的高斯分布表示。</td></tr><tr><td class="content" id="description_129">相比之下，如本文所使用的，“置信度值”反映了基于一个或更多个因素对由图4的模块之一提供的状态估计中的置信度的度量。对于基于EM的模块，诸如EM场失真、EM配准的不准确性、患者的移位或移动以及患者的呼吸等因素可以影响状态估计的置信度。特别地，由基于EM的模块提供的状态估计中的置信度值可以取决于患者的特定呼吸循环、患者或EM场发生器的移动、以及仪器尖端所在的解剖结构内的位置。对于图像分析器435，可以影响状态估计中的置信度值的示例因素包括：对于捕获图像的解剖结构内的位置的照射条件，在捕获图像的光学传感器的相对侧或前方存在的流体、组织或其他障碍物，患者的呼吸，患者自身(例如肺)的管状网络的状况，例如管状网络内的一般流体和管状网络的闭塞，以及用于例如导航或图像捕捉的特定操作技术。</td></tr><tr><td class="content" id="description_130">例如，一个因素可以是特定算法在患者肺的不同深度处具有不同的准确度水平，使得相对接近气道开口，特定算法可以对其对医疗仪器位置和取向的估计具有高置信度，但是医疗仪器进一步行进到肺底部，置信度值可能会降低。通常，置信度值基于与通过其确定结果的处理相关的一个或更多个系统因素，而概率是当尝试使用基于基础数据的单个算法从多个可能性中确定正确结果时出现的相对度量。</td></tr><tr><td class="content" id="description_131">作为一个示例，用于计算由离散概率分布(例如具有所涉及的估计状态的三个值的三叉的分支/分段识别)表示的估计状态的结果的数学等式可以是如下等式：</td></tr><tr><td class="content" id="description_132">S<base:Sub>1</base:Sub>＝C<base:Sub>EM</base:Sub>*P<base:Sub>1，EM</base:Sub>+C<base:Sub>Image</base:Sub>*P<base:Sub>1，Image</base:Sub>+C<base:Sub>Robot</base:Sub>*P<base:Sub>1，Robot</base:Sub></td></tr><tr><td class="content" id="description_133">S<base:Sub>2</base:Sub>＝C<base:Sub>EM</base:Sub>*P<base:Sub>2,EM</base:Sub>+C<base:Sub>Image</base:Sub>*P<base:Sub>2，Image</base:Sub>+C<base:Sub>Robot</base:Sub>*P<base:Sub>2，Robot</base:Sub></td></tr><tr><td class="content" id="description_134">S<base:Sub>3</base:Sub>＝C<base:Sub>EM</base:Sub>*P<base:Sub>3,EM</base:Sub>+C<base:Sub>Image</base:Sub>*P<base:Sub>3，Image</base:Sub>+C<base:Sub>Robot</base:Sub>*P<base:Sub>3，Robot</base:Sub></td></tr><tr><td class="content" id="description_135">在上面的示例数学等式中，S<base:Sub>i</base:Sub>(i＝1,2,3)表示在3D模型中识别或存在3个可能片段的情况下的估计状态的可能示例值，C<base:Sub>EM</base:Sub>、C<base:Sub>Image</base:Sub>和C<base:Sub>Robot</base:Sub>表示与基于EM的算法、基于图像的算法和基于机器人的算法对应的置信度值，并且P<base:Sub>i,EM</base:Sub>、P<base:Sub>i,Image</base:Sub>和P<base:Sub>i,Robot</base:Sub>表示分段i的概率。由于这种融合算法的概率性质，可以随时间跟踪呼吸，并且甚至预测呼吸以克服延迟时间和异常值干扰。</td></tr><tr><td class="content" id="description_136">在一些实施方式中，来自内窥镜位置估计器420、配准计算器和图像分析器435的数据的置信度值可以基于来自呼吸频率和/或呼吸期识别器410的呼吸期自适应地确定。例如，机器人位置数据和图像数据与EM传感器数据受呼吸运动的影响可能不同。在一些实施方式中，从内窥镜成像数据存储库430获得的视觉数据可以用于检测经由腔网络外部的传感器无法检测到的某些类型的呼吸运动，例如可以通过视觉处理检测到的颅尾部(向后)运动中的气道的移动。</td></tr><tr><td class="content" id="description_137">安全区数据存储库455是存储表示在仪器插入期间应该特别注意的区域和/或条件的数据的数据存储装置。例如，如上所述，3D模型可以包括与气道直径有关的信息。具有小于或等于内窥镜的直径或在内窥镜直径的预定阈值(例如1mm至2mm，约4mm，或任何其他阈值距离)内的直径的腔网络的分支可以被指定为安全区。在一些实施方式中，通过比较直径，可以由处理器以编程方式进行这种指定。作为另一示例，患者呼吸循环的某些呼吸期可以被指定为安全“区”，例如患者呼吸的呼气期，或者例如在预期患者的气道受到限制的期间在呼气中开始并且中途结束进入吸气的过渡期。在一些实施方式中，阈值可以基于包括仪器的尺寸、受控移动的控制容差、用户可配置的偏好等因素来配置。在一些实施方式中，安全区数据存储库455可以存储关于各种安全区中的机器人系统操作和/或限制的指令。</td></tr><tr><td class="content" id="description_138">安全模式控制器450是接收多个输入并且确定是否激活安全模式的模块。例如，安全模式控制器450可以接收来自安全区数据存储库455的数据、来自呼吸频率和/或呼吸期识别器410的呼吸期数据、以及来自状态估计器440的估计状态输出作为输入。模式控制器450可以将呼吸期和估计状态与来自安全区存储库的数据进行比较，以确定是否激活安全模式。</td></tr><tr><td class="content" id="description_139">导航控制器460是从安全模式控制器450接收数据并使用该数据来引导手术机器人系统110的进一步操作的模块。例如，当安全模式被激活时，导航控制器460可以从安全模式控制器450接收关于特定显示指令和/或IDM操作指令的数据。当安全模式未被激活时，导航控制器460可以从安全模式控制器450接收关于估计状态和导航路径数据中识别的任何下一个移动的数据。</td></tr><tr><td class="content" id="description_140"><base:Underline>示例导航技术的概述</base:Underline></td></tr><tr><td class="content" id="description_141">根据本公开内容的一个或更多个方面，图5描绘了用于从如本文中描述的仪器位置估计中滤除由于腔网络移动引起的噪声的示例处理500的流程图。处理500可以在图4的导航融合系统400、图1的控制和传感器电子设备184和/或图2的控制台基座201或其部件中实现。</td></tr><tr><td class="content" id="description_142">在块505处，位置计算器430可以例如从模型数据存储库425访问患者的腔网络的模型。例如，在一些实现方式中，模型可以是从CT扫描生成的患者的气道的分段图。模型可以是患者的实际腔网络(或腔网络的一部分)的任何二维或三维表示。</td></tr><tr><td class="content" id="description_143">在块510处，内窥镜位置估计器420可以从仪器传感器接收数据，并且呼吸频率/呼吸期识别器410可以例如分别从呼吸传感器数据存储库405和内窥镜EM传感器数据存储库410接收来自呼吸传感器的数据。如上所述，内窥镜传感器数据可以从内窥镜上的EM传感器获得，并且可以提供内窥镜的远端在腔网络周围生成的EM场内的位置和/或取向，并且呼吸传感器数据可以由被设置成检测腔网络的移动的传感器生成。</td></tr><tr><td class="content" id="description_144">在块515处，位置计算器430可以估计仪器相对于模型的位置。例如，模型的坐标系可以在配准期间在医疗过程开始时被映射到EM场的坐标系(参见上面关于配准计算器465和配准数据存储库475的讨论)。位置计算器430可以使用该映射(通过配准数据)和传感器在场内的位置的坐标一起来生成仪器传感器在模型内的位置的初始估计。然而，如上所述，由于呼吸期间患者气道的运动，模型到EM场坐标系的初始配准可能不能准确地反映患者气道在EM场内的实际动态位置。因为仪器位于动态移动气道中的一个内，所以当EM场内的气道位置与该同一气道在模型中的映射位置不同时，例如对于估计的仪器位置的呼吸运动伪像/分量而言，在块515处估计的位置可能是不准确的。</td></tr><tr><td class="content" id="description_145">在块520处，呼吸频率和/或呼吸期识别器410可以从来自呼吸传感器的数据中提取呼吸的频率，例如，通过使用傅里叶变换来提取呼吸的频率。在具有多个呼吸传感器的实施方式中，可以将傅里叶变换应用于来自一个或更多个传感器的数据。</td></tr><tr><td class="content" id="description_146">在块525处，位置计算器430和/或内窥镜位置估计器420可以实现滤波级535，以基于所识别的呼吸频率来调整仪器位置和模型位置中的一个或两个，以补偿腔网络的周期性移动。关于图6A至图6C更详细地描述了滤波级535的各种实现方式。</td></tr><tr><td class="content" id="description_147">在块530处，状态估计器440可以输出仪器位置的指示。输出可以被提供至导航系统(例如，手术机器人系统110)，输出可以被提供至用户界面(例如，显示器202)，或者输出可以被提供至这两者。在一些实施方式中，指示可以被输出至状态估计器440，以用于确定仪器的可能状态。</td></tr><tr><td class="content" id="description_148">图6A至图6C描绘了可以用于图5的滤波级535的各种示例处理的流程图。图6A至图6C的处理可以由图4的导航融合系统400、图1的控制和传感器电子设备184和/或图2的控制台基座201或其部件来实现。</td></tr><tr><td class="content" id="description_149">转到图6A，描绘了可以用于滤波级535的一个示例处理600A。在块605处，内窥镜位置估计器420可以基于所识别的呼吸频率来设计滤波。如上所述，在一些实施方式中，可以在屏气状态期间生成患者气道的模型。因此，滤波可以是带通或带阻滤波，其被设计成在与生成模型的屏气状态期间对应的峰值吸气状态期间从仪器EM传感器选择数据。</td></tr><tr><td class="content" id="description_150">在块610处，内窥镜位置估计器420可以将在块605处设计的滤波应用于来自仪器EM传感器的数据以滤除数据的一部分。通过这样做，处理600A可以滤除EM传感器信号的通常被认为是“噪声”并且导致与3D模型的不准确配准的部分。因为EM传感器位置被配准到静态3D模型，所以在与在其期间生成模型的呼吸状态不同的呼吸状态期间发生的滤除信号的一部分可以提高配准的准确度。</td></tr><tr><td class="content" id="description_151">转到图6B，描绘了可以用于滤波级535的另一示例处理600B。在块615处，呼吸频率和/或呼吸期识别器410可以识别每个呼吸传感器的位移量。所述量可以相对于每个传感器的“基线”位置来测量。可以通过在校准时记录每个传感器的位置在将模型坐标校准为EM场坐标时设置基线。在具有位于患者胸部的多个EM传感器的实施方式中，更靠近胸骨附接的传感器将显示比更靠近肺的下边缘附接的传感器更低的位移量。</td></tr><tr><td class="content" id="description_152">在块620处，内窥镜位置估计器420可以识别仪器传感器相对于呼吸传感器的相对位置。例如，可以比较x坐标和y坐标(表示EM场中的长度位置和宽度位置)，以确定最近的呼吸传感器和/或仪器传感器与每个呼吸传感器之间的相对距离。</td></tr><tr><td class="content" id="description_153">在块625处，内窥镜位置估计器420可以基于呼吸传感器的位移和仪器传感器与呼吸传感器的相对定位来内插仪器传感器的位移。</td></tr><tr><td class="content" id="description_154">在块630处，内窥镜位置估计器420可以通过内插的位移来调整在块515处计算的估计的仪器位置。因此，调整后的位置可以通过补偿气道相对于模型坐标系的位移来表示仪器在模型内的更准确的位置。</td></tr><tr><td class="content" id="description_155">转到图6C，描绘了可以用于滤波级535的另一示例处理600C。在块630处，呼吸频率和/或呼吸期识别器410可以识别每个呼吸传感器的位移量。这可以与上述处理600B的块615类似地执行。</td></tr><tr><td class="content" id="description_156">在块635处，位置计算器430可以访问3D模型到呼吸传感器位置的映射。例如，每个呼吸传感器可以被映射到模型内的x坐标和y坐标。</td></tr><tr><td class="content" id="description_157">在块640处，位置计算器430可以基于该映射和位移量来将模型平移到EM场坐标系内的新坐标。例如，在传感器被映射到的每个(x，y)坐标处，处理600C可以基于映射的传感器的位移量来调整(x，y，z)模型坐标的z值。对于映射的传感器之间的(x，y)坐标，可以基于根据量和距相邻传感器的距离内插的量来调整z值。因此，可以动态地调整模型在EM场坐标系内的位置以反映患者气道的移动。</td></tr><tr><td class="content" id="description_158">在块645处，位置计算器430可以将仪器位置配准到平移的模型。例如，位置计算器430可以访问EM场内的仪器传感器的(x，y，z)坐标数据，并且识别平移的模型内的相应位置。</td></tr><tr><td class="content" id="description_159">处理500的一些实施方式可以使用处理600A、600B、600C中的一个或更多个来在滤波级535中计算相对于模型的仪器位置。</td></tr><tr><td class="content" id="description_160">根据本公开内容的一个或更多个方面，图7描绘了用于在如本文中描述的腔网络导航期间激活安全模式的示例处理700的流程图。处理700可以由图4的导航融合系统400、图1的控制和传感器电子设备184和/或图2的控制台基座201或其部件来实现。</td></tr><tr><td class="content" id="description_161">在块705处，状态估计器440可以例如从模型数据存储库425访问患者的腔网络的3D模型。</td></tr><tr><td class="content" id="description_162">在块710处，状态估计器440可以从仪器传感器和呼吸传感器中的一个或两个(例如，从呼吸传感器数据存储库405和内窥镜EM传感器数据存储库415)接收数据，或者可以从模块410、420和/或430接收对这种数据的分析。如上所述，内窥镜传感器数据可以提供内窥镜的远端在腔网络周围生成的EM场内的位置和/或取向，并且呼吸传感器数据可以由被定位成检测腔网络的移动的传感器生成。在块710之后，处理700可以分成两个子处理，这两个子处理可以单独地或一起执行，以确定是否激活安全模式。如果一起执行，则这些子处理可以并行或串行执行。</td></tr><tr><td class="content" id="description_163">如果状态估计器440在块710处接收仪器传感器位置数据，则处理700可以过渡到块715。在块715处，状态估计器440可以估计仪器相对于模型的位置。该估计可以通过上面在一些实施方式中描述的处理600A至600C中的任何处理来执行，以补偿周期性运动。</td></tr><tr><td class="content" id="description_164">在决定块720处，安全模式控制器450确定仪器的位置是否落入3D模型的预先限定的安全区内。如上所述，可以基于气道和仪器直径的比较来预先限定安全区。如果仪器的位置没有落入安全区域内，则处理700循环回到块710以从传感器接收新数据。在其他实施方式中，处理700可以过渡到块725。</td></tr><tr><td class="content" id="description_165">如果仪器的位置确实落在安全区内，则处理700过渡到块735，并且安全模式控制器450激活安全模式以用于进一步导航(例如，仪器的下一移动或仪器的后续移动)。</td></tr><tr><td class="content" id="description_166">转到块725，如果处理700在块710处接收呼吸传感器位置数据，则处理700可以过渡到块725。在块725处，呼吸频率和/或呼吸期识别器410可以将呼吸期识别为吸气或呼气。</td></tr><tr><td class="content" id="description_167">在决定块730处，安全模式控制器450确定呼吸期是否对应于预定义的安全条件。在一些实施方式中，所有呼气期可以被识别为安全条件。在一些实施方式中，在气道的某些分枝中的呼气可以对应于安全条件。在一些实施方式中，安全模式控制器450可以分析历史呼吸频率数据，以预测仪器的下一次移动是否将落入与安全条件相关的呼吸期内。如果呼吸期(或预测期)与预定义的安全条件不对应，则处理700循环回到块710以从传感器接收新数据。在其他实施方式中，处理700可以过渡到块715。</td></tr><tr><td class="content" id="description_168">如果呼吸期(或预测期)确实对应于预定义的安全条件，则处理700过渡到块735，并且安全模式控制器450激活安全模式以用于进一步导航(例如，仪器的下一次移动或仪器的所有随后的移动)。</td></tr><tr><td class="content" id="description_169">如果处理700由于仪器的位置已经进入安全区而过渡到块735，则在一些实施方式中，可以激活安全模式以用于所有进一步的插入，原因在于：气道趋向于进一步朝向肺外周减小直径，并且导航路径趋向于从中心气道向外朝向外周行进。如果处理700由于呼吸期(例如，呼气)使处理激活安全模式而过渡到块735，则安全模式可以在预测的呼气循环或者直到下一个检测到的吸气循环的持续时间内被激活。</td></tr><tr><td class="content" id="description_170">在安全模式下，处理700的一些实施方式可以实现导航控制器460，以对仪器移动施加限制。例如，在安全模式下，导航控制器460可以防止手术机器人系统110致动仪器驱动器。在这样的实施方式中，导航控制器460可以忽视(override)到机器人系统的用户输入，以在安全模式被激活时(例如，在患者呼气期间)引导仪器的插入。</td></tr><tr><td class="content" id="description_171">在一些实施方式中，安全模式控制器450可以确定：从所计算的仪器位置沿着导航路径向下定位的气道的气道直径小于仪器的直径。因此，在安全模式下，导航控制器460可以防止进一步插入，并且可以提示用户通过内窥镜的工作通道插入较小的可操纵通道以用于任何进一步的导航。</td></tr><tr><td class="content" id="description_172">在安全模式下，处理700的一些实施方式可以不对仪器移动施加限制，而是可以向用户提供输出以指示：在仪器移动期间应该小心。这样的输出包括图形(例如，在显示器上)警告、听觉或触觉(例如，通过输入装置204的触觉反馈)警告。</td></tr><tr><td class="content" id="description_173"><base:Underline>示例导航用户界面的概述</base:Underline></td></tr><tr><td class="content" id="description_174">图8A和图8B示出了可以在如本文中描述的安全模式下在腔网络导航期间向用户呈现的示例用户界面800A、800B。例如，在一些实施方式中，用户界面800A、800B可以呈现在图2的显示器202上。</td></tr><tr><td class="content" id="description_175">图8A示出了可以在患者呼吸的呼气期期间向用户呈现的示例用户界面800A。示例用户界面800包括警告805、虚拟导航部分810和呼吸跟踪部分820。</td></tr><tr><td class="content" id="description_176">虚拟导航部分810包括患者气道812的可视化和通过气道的导航路径814的可视化。如上所述，在一些实施方式中，这可以基于3D模型。在一些实施方式中，虚拟导航部分810可以替代地或另外地显示从内窥镜摄像装置接收的图像。</td></tr><tr><td class="content" id="description_177">呼吸跟踪部分820包括患者呼吸的波形822和指示呼吸循环中的当前点的标记824。在波形822中，具有正斜率的波形的部分可以表示吸气，而具有负斜率的部分可以表示呼气。一些实施方式可以基于例如先前呼吸循环和/或呼吸机循环数据的频率分析来另外显示未来呼吸的预测波形。如所示的，呼吸循环中的当前点对应于呼气期。</td></tr><tr><td class="content" id="description_178">警告805警告系统的操作员在呼气期间暂停导航。在一些实施方式中，警告805可以伴随有覆盖在虚拟导航部分810上的附加警告816。在其他实施方式中，显示器的颜色可以改变，警报可以发声，输入操纵杆可以振动，或者可以呈现其他视觉、听觉或触觉指示以向用户警告装置正在安全模式下操作。在一些实施方式中，可以在该状态下忽视机器人系统110的用户控制，以减轻对患者气道的创伤。</td></tr><tr><td class="content" id="description_179">转到图8B，示出了可以在导航期间通过如上所述的预先限定的安全区呈现给用户的另一个示例用户界面800B。用户界面800B包括警告805、虚拟导航部分810和模型显示部分830。</td></tr><tr><td class="content" id="description_180">如上所述，虚拟导航部分810包括患者气道812的可视化和通过气道的导航路径814的可视化。</td></tr><tr><td class="content" id="description_181">模型显示部分830包括具有当前位置标记832和安全区标记834的3D模型的图形表示。如所示的，当前位置832在安全区834内。同样地，警告805警告系统的操作员：他们正在通过警示区导航。可以提供另外的警告，以帮助用户在区域中在呼气期间暂停导航。</td></tr><tr><td class="content" id="description_182"><base:Underline>替代的滤波技术</base:Underline></td></tr><tr><td class="content" id="description_183">如上所述，一些实施方式可以利用以下方法：(a)针对给定时间段接收原始传感器数据，(b)应用函数(例如，傅立叶变换)以确定原始传感器数据上的呼吸率，从而确定给定时间段的呼吸率，以及(c)对原始传感器数据应用滤波，以去除可归因于确定的呼吸率的原始传感器数据的分量。然而，这些方法可能引入来自(a)至(c)的不期望的延迟。为了减轻来自(a)至(c)的延迟，一些实施方式可以利用预测技术来预测未来时间段的呼吸率。一种预测方法可能涉及：使用非线性卡尔曼滤波器(如，扩展的卡尔曼滤波器(EKF)、无迹卡尔曼滤波器(UKF)或将卡尔曼滤波器应用于非线性函数的其他适当的方法)以接近或基本上实时地预测呼吸运动。如本文中使用的，“实时”是指在获取传感器数据之后立即应用的处理，例如在足够短的时间窗口内完成的对传感器数据的处理，使得经处理的数据能够用于仪器的导航。EKF或多个EKF(一个用于斑，一个用于范围)可以实时地识别呼吸的幅度、方向和呼吸期。实施方式可以从由EM传感器或任何其他位置传感器生成的原始EM传感器数据中去除由一个或更多个EKF检测到的呼吸运动。EKF可以处理历史的原始传感器数据，以预测当前时间段的呼吸运动。然后使用预测的呼吸运动来滤除原始传感器数据中的呼吸分量。EKF或多个EKF(一个用于斑，一个用于范围)可以实时地识别呼吸的幅度、方向和呼吸期。其他示例实施方式可以使用其他预测技术，如α-β滤波、贝叶斯滤波、粒子滤波等。</td></tr><tr><td class="content" id="description_184"><base:Underline>补偿机器人命令</base:Underline></td></tr><tr><td class="content" id="description_185">在一些实施方式中，仪器的移动可以表现类似于呼吸的运动。为了补偿这些运动，用于检测和补偿呼吸率(或任何其他生理诱发的运动)的实施方式可以使用用于控制(例如，插入、缩回、铰接)仪器的命令运动数据，以避免将该运动检测为呼吸率。例如，如果仪器的移动处于给定速率(能够由命令数据确定)，则上述实施方式可以将滤波应用于传感器数据，以去除可归因于该移动的数据。</td></tr><tr><td class="content" id="description_186"><base:Underline>替代的传感器类型</base:Underline></td></tr><tr><td class="content" id="description_187">如上所述，除了使用EM传感器来确定仪器的位置以外，其他实施方式可以使用其他适当的传感器类型。这样的位置传感器可以包括形状感测光纤、加速度计、视觉检测算法、陀螺仪或者可以检测运动的特性的任何其他适当的传感器。</td></tr><tr><td class="content" id="description_188"><base:Underline>补偿其他生理噪音</base:Underline></td></tr><tr><td class="content" id="description_189">尽管本文中描述的许多实施方式是检测并补偿由患者的呼吸率产生的噪声，但是其他实施方式可以检测并补偿由患者的其他生理特性(如心率或任何其他可检测的特性)产生的噪声。在这种情况下，在心率可能在EM数据中产生噪声的情况下，这些实施方式可以检测心率的频率并且使用上面讨论的技术来去除由心率产生的噪声。还可以检测其他噪声伪像，原因在于：如果患者经历周期性震颤或物理移动，则可能出现其他噪声伪像。</td></tr><tr><td class="content" id="description_190"><base:Underline>实现系统和术语</base:Underline></td></tr><tr><td class="content" id="description_191">本文中公开的实现方式提供了用于改进的腔网络的导航的系统、方法和设备。</td></tr><tr><td class="content" id="description_192">应当注意，术语“耦合(couple)”、“耦接(coupling)”、“耦接(coupled)”或词耦接的如本文中使用的其他变型可以表示间接连接或直接连接。例如，如果第一部件“耦接”至第二部件，则第一部件可以经由另一部件间接连接至第二部件或直接连接至第二部件。</td></tr><tr><td class="content" id="description_193">本文中描述的机器人运动致动功能可以作为一个或更多个指令存储在处理器可读或计算机可读介质上。术语“计算机可读介质”是指可以由计算机或处理器访问的任何可用介质。作为示例而非限制，这种介质可以包括RAM、ROM、EEPROM、闪存、CD-ROM或其他光盘存储装置、磁盘存储装置或其他磁存储装置或者可以用于以指令或数据结构的形式存储所需的程序代码并且可以由计算机访问的任何其他介质。应该注意，计算机可读介质可以是暂态和非暂态的。如本文中所使用的，术语“代码”可以指能够由计算装置或处理器执行的软件、指令、代码或数据。</td></tr><tr><td class="content" id="description_194">本文中公开的方法包括用于实现所描述的方法的一个或更多个步骤或动作。在不脱离权利要求的范围的情况下，方法的步骤和/或动作可以彼此互换。换言之，除非正在描述的方法的正确操作需要步骤或动作的特定顺序，否则可以在不脱离权利要求的范围的情况下修改特定步骤和/或动作的顺序和/或使用。</td></tr><tr><td class="content" id="description_195">如本文中使用的，术语“多个”表示两个或更多个。例如，多个部件表示两个或更多个部件。术语“确定”包含各种各样的动作，因此，“确定”可以包括计算(calculating)、计算(computing)、处理、推导、调查、查找(例如，在表格、数据库或其他数据结构中查找)、查明等。此外，“确定”可以包括接收(例如，接收信息)、访问(例如，访问存储器中的数据)等。此外，“确定”可以包括解析、选择、挑选、建立等。</td></tr><tr><td class="content" id="description_196">除非另有明确说明，否则短语“基于”并不意味着“仅基于”。换言之，短语“基于”描述了“仅基于”和“至少基于”两者。</td></tr><tr><td class="content" id="description_197">提供了所公开的实现方式的先前描述，以使得本领域技术人员能够实现或使用本发明。对于本领域技术人员而言，对这些实现方式的各种修改将是显而易见的，并且在不脱离本发明的范围的情况下，本文中定义的一般原理可以应用于其他实现方式。例如，应当理解，本领域普通技术人员将能够采用多个相应的替代和等同的结构细节，如紧固、安装、耦接或接合工具部件的等效方式，用于产生特定的致动运动的等效机制以及用于递送电能的等效机制。因此，本发明不旨在限于本文中所示的实现方式，而是与符合本文中公开的原理和新颖特征的最宽范围一致。</td></tr></table></div></body></html>