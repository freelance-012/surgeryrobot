<html><head><title>全文文本(Fulltext)</title><meta http-equiv='Content-Type' content='text/html; charset=UTF-8'><style>div.fullText table {width: 100%;text-indent: 1px;} 
 div.fullText table td.header {font-weight: bold;text-align: center;font-family: '宋体';font-size: 16px;line-height:20px;color: #000000;padding: 5px;}div.fullText table td.content {padding: 1px;text-align: left;vertical-align: top;width: 100%;font-family: '宋体';font-size: 14px;line-height:20px;color: #000000;}</style></head><body><?xml version="1.0" encoding="UTF-8"?><div xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:siposeas="java:com.neusoft.sipo.sipopublicsearch.search.app.view.detailUtils.xsltParser.XsltSeasParser" xmlns:str="http://example.com/namespace" xmlns:business="http://www.sipo.gov.cn/XMLSchema/business" xmlns:base="http://www.sipo.gov.cn/XMLSchema/base" xmlns:tbl="http://oasis-open.org/specs/soextblx" class="fullText"><table><tr><td id="claim_title" class="header">权利要求书</td></tr><tr><td class="content" id="claim_1"><business:ClaimText>1.一种手术导航系统，其特征在于，包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_2"><business:ClaimText>动态基准，所述动态基准用于固定设置在受施手术者的手术部位；</business:ClaimText></td></tr><tr><td class="content" id="claim_3"><business:ClaimText>扫描装置，所述扫描装置用于在术前扫描所述手术部位以获取扫描图像，所述扫描图像包括扫描图像坐标系，所述扫描装置包括扫描空间坐标系，所述动态基准包括动态空间坐标系；</business:ClaimText></td></tr><tr><td class="content" id="claim_4"><business:ClaimText>立体相机，所述立体相机用于在术中获取所述手术部位的实时图像，所述立体相机包括相机空间坐标系；及</business:ClaimText></td></tr><tr><td class="content" id="claim_5"><business:ClaimText>与所述动态基准、所述扫描装置及所述立体相机连接的处理装置，所述处理装置用于处理所述扫描图像及所述实时图像，以对所述相机空间坐标系与所述扫描图像坐标系进行坐标系转换，及计算所述实时图像上的任一点在所述扫描图像的特征匹配点；</business:ClaimText></td></tr><tr><td class="content" id="claim_6"><business:ClaimText>所述扫描装置上设有至少三个不共线的第一标志，所述第一标志用于建立所述扫描空间坐标系；所述动态基准上设有至少三个不共线的第二标志，所述第二标志用于建立所述动态空间坐标系；所述立体相机用于根据双目成像原理，通过追踪所述第一标志及所述第二标志发出的信号确认所述相机空间坐标系与所述扫描空间坐标系及所述动态空间坐标系之间的坐标系转换关系。</business:ClaimText></td></tr><tr><td class="content" id="claim_7"><business:ClaimText>2.如权利要求1所述的手术导航系统，其特征在于，</business:ClaimText></td></tr><tr><td class="content" id="claim_8"><business:ClaimText>所述处理装置还用于，对所述扫描图像坐标系、所述相机空间坐标系、所述扫描空间坐标系及所述动态空间坐标系进行坐标系转换，进而计算所述相机空间坐标系中的任一点在所述扫描图像坐标系中的特征匹配点，以得到所述实时图像上的任一点在所述扫描图像的特征匹配点。</business:ClaimText></td></tr><tr><td class="content" id="claim_9"><business:ClaimText>3.如权利要求1所述的手术导航系统，其特征在于，所述处理装置还用于：</business:ClaimText></td></tr><tr><td class="content" id="claim_10"><business:ClaimText>计算所述扫描空间坐标系中任一点在所述扫描图像坐标系中的特征匹配点；</business:ClaimText></td></tr><tr><td class="content" id="claim_11"><business:ClaimText>计算所述相机空间坐标系中任一点在所述扫描空间坐标系及所述动态空间坐标系中的特征匹配点；</business:ClaimText></td></tr><tr><td class="content" id="claim_12"><business:ClaimText>计算所述动态空间坐标系中任一点在所述扫描空间坐标系中的特征匹配点；</business:ClaimText></td></tr><tr><td class="content" id="claim_13"><business:ClaimText>计算所述动态空间坐标系中任一点在所述扫描图像坐标系中的特征匹配点；及</business:ClaimText></td></tr><tr><td class="content" id="claim_14"><business:ClaimText>计算任意时刻所述动态空间坐标系中任一点在所述相机空间坐标系中的特征匹配点。</business:ClaimText></td></tr><tr><td class="content" id="claim_15"><business:ClaimText>4.如权利要求1所述的手术导航系统，其特征在于，所述相机空间坐标系中的任一点在所述扫描图像坐标系中的特征匹配点根据以下公式计算：</business:ClaimText></td></tr><tr><td class="content" id="claim_16"><business:ClaimText><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246310&amp;blobId=3702205444" width="492"/></business:ClaimText></td></tr><tr><td class="content" id="claim_17"><business:ClaimText>式中：</business:ClaimText></td></tr><tr><td class="content" id="claim_18"><business:ClaimText><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246299&amp;blobId=3702275335" width="94"/>为所述扫描图像坐标系中的任一点的坐标；</business:ClaimText></td></tr><tr><td class="content" id="claim_19"><business:ClaimText><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246293&amp;blobId=3702039765" width="109"/>为所述相机空间坐标系中任一点的坐标；</business:ClaimText></td></tr><tr><td class="content" id="claim_20"><business:ClaimText>R为在获取所述扫描图像时所述扫描图像坐标系与所述扫描空间坐标系之间的旋转矩阵；</business:ClaimText></td></tr><tr><td class="content" id="claim_21"><business:ClaimText>R<base:Sub>12</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述扫描空间坐标系的旋转矩阵；</business:ClaimText></td></tr><tr><td class="content" id="claim_22"><business:ClaimText><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246286&amp;blobId=3702146196" width="74"/>为在获取所述扫描图像时所述相机空间坐标系相对于所述动态空间坐标系的旋转矩阵的逆矩阵；</business:ClaimText></td></tr><tr><td class="content" id="claim_23"><business:ClaimText>R<base:Sub>13</base:Sub>(t)为任意时刻所述相机空间坐标系与所述动态空间坐标系的旋转矩阵；</business:ClaimText></td></tr><tr><td class="content" id="claim_24"><business:ClaimText>T<base:Sub>13</base:Sub>(t)为任意时刻所述相机空间坐标系与所述动态空间坐标系的平移向量；</business:ClaimText></td></tr><tr><td class="content" id="claim_25"><business:ClaimText>T<base:Sub>13</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述动态空间坐标系的平移向量；</business:ClaimText></td></tr><tr><td class="content" id="claim_26"><business:ClaimText>T<base:Sub>12</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述扫描空间坐标系的平移向量；</business:ClaimText></td></tr><tr><td class="content" id="claim_27"><business:ClaimText>T为在获取所述扫描图像时所述扫描图像坐标系与所述扫描空间坐标系之间的平移向量。</business:ClaimText></td></tr><tr><td class="content" id="claim_28"><business:ClaimText>5.如权利要求1所述的手术导航系统，其特征在于，所述手术导航系统包括导航探针，所述导航探针包括探头，所述探头用于在所述手术部位上点取比较点，所述导航探针包括探针空间坐标系，所述处理装置用于对所述探针空间坐标系与所述相机空间坐标系进行坐标系转换，进而计算获取所述比较点在所述扫描图像坐标系中的特征匹配点，以实现所述手术导航系统在术中导航。</business:ClaimText></td></tr><tr><td class="content" id="claim_29"><business:ClaimText>6.如权利要求5所述的手术导航系统，其特征在于，所述比较点在所述扫描图像坐标系中的特征匹配点根据以下公式计算：</business:ClaimText></td></tr><tr><td class="content" id="claim_30"><business:ClaimText><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246276&amp;blobId=3702187529" width="492"/></business:ClaimText></td></tr><tr><td class="content" id="claim_31"><business:ClaimText>式中：</business:ClaimText></td></tr><tr><td class="content" id="claim_32"><business:ClaimText><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246269&amp;blobId=3702168612" width="94"/>为所述扫描图像坐标系中的任一点的坐标；</business:ClaimText></td></tr><tr><td class="content" id="claim_33"><business:ClaimText><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246261&amp;blobId=3702182574" width="88"/>为所述比较点在所述探针空间坐标系中的坐标；</business:ClaimText></td></tr><tr><td class="content" id="claim_34"><business:ClaimText>R为在获取所述扫描图像时所述扫描图像坐标系与所述扫描空间坐标系之间的旋转矩阵；</business:ClaimText></td></tr><tr><td class="content" id="claim_35"><business:ClaimText>R<base:Sub>12</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述扫描空间坐标系的旋转矩阵；</business:ClaimText></td></tr><tr><td class="content" id="claim_36"><business:ClaimText><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246253&amp;blobId=3702230114" width="75"/>为在获取所述扫描图像时所述相机空间坐标系相对于所述动态空间坐标系的旋转矩阵的逆矩阵；</business:ClaimText></td></tr><tr><td class="content" id="claim_37"><business:ClaimText>R<base:Sub>13</base:Sub>(t)为任意时刻所述相机空间坐标系与所述动态空间坐标系的旋转矩阵；</business:ClaimText></td></tr><tr><td class="content" id="claim_38"><business:ClaimText><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246245&amp;blobId=3702222850" width="131"/>为任意时刻所述探针空间坐标系与所述相机空间坐标系之间的旋转矩阵的逆矩阵；</business:ClaimText></td></tr><tr><td class="content" id="claim_39"><business:ClaimText>T<base:Sub>14</base:Sub>(t)为任意时刻所述探针空间坐标系与所述相机空间坐标系之间的平移向量；</business:ClaimText></td></tr><tr><td class="content" id="claim_40"><business:ClaimText>T<base:Sub>13</base:Sub>(t)为任意时刻所述相机空间坐标系与所述动态空间坐标系的平移向量；</business:ClaimText></td></tr><tr><td class="content" id="claim_41"><business:ClaimText>T<base:Sub>13</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述动态空间坐标系的平移向量；</business:ClaimText></td></tr><tr><td class="content" id="claim_42"><business:ClaimText>T<base:Sub>12</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述扫描空间坐标系的平移向量；</business:ClaimText></td></tr><tr><td class="content" id="claim_43"><business:ClaimText>T为在获取所述扫描图像时所述扫描图像坐标系与所述扫描空间坐标系之间的平移向量。</business:ClaimText></td></tr></table></div><div xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:siposeas="java:com.neusoft.sipo.sipopublicsearch.search.app.view.detailUtils.xsltParser.XsltSeasParser" xmlns:str="http://example.com/namespace" xmlns:business="http://www.sipo.gov.cn/XMLSchema/business" xmlns:base="http://www.sipo.gov.cn/XMLSchema/base" xmlns:tbl="http://oasis-open.org/specs/soextblx" class="fullText"><table style="table-layout:fixed"><tr><td id="description_title" class="header">
						说明书
					</td></tr><tr><td class="content" id="description_invention_title">手术导航系统及手术导航系统的配准方法</td></tr><tr><td class="content" id="description_1">技术领域</td></tr><tr><td class="content" id="description_2">本发明涉及医疗领域，尤其涉及一种手术导航系统及一种手术导航系统的配准方法。</td></tr><tr><td class="content" id="description_3">背景技术</td></tr><tr><td class="content" id="description_4">在手术过程中，往往需要对实际手术部位与术前扫描获取手术部位的三维图像进行配准以引导手术进行。目前的手术导航系统的配准方法中，医生要么人工选取并确认配准过程中的特征匹配点，从而实现配准，但是，由于医生的操作误差，导致配准精度低；要么在手术中大面积暴露患者的手术部位以实现自动配准，但是，不符合微创手术的需求。</td></tr><tr><td class="content" id="description_5">发明内容</td></tr><tr><td class="content" id="description_6">本发明旨在至少解决现有技术中存在的技术问题之一。为此，本发明提供一种手术导航系统及一种手术导航系统的配准方法。</td></tr><tr><td class="content" id="description_7">本发明实施方式的手术导航系统包括扫描装置、立体相机、处理装置及动态基准。所述扫描装置用于在术前手术部位以获取所述扫描图像。所述扫描图像包括扫描图像坐标系。所述立体相机用于在术中获取所述手术部位的实时图像。所述立体相机包括相机空间坐标系。所述处理装置连接所述扫描装置、所述立体相机及动态基准。所述处理装置用于处理所述扫描图像及所述实时图像，以对所述相机空间坐标系与所述扫描图像坐标系进行坐标系转换，及计算所述实时图像上的任一点在所述扫描图像的特征匹配点。</td></tr><tr><td class="content" id="description_8">在本发明实施方式的手术导航系统中，处理装置预存有所述实时图像上的任一点在所述扫描图像的特征匹配点的计算算法，在手术进行时，手术部位的实时图像上的任一点都能够在手术部位的扫描图像中找到特征匹配点，从而实现术中手术部位的实际位置与术前的扫描图像之间的配准，进而准确地引导手术的进行。本发明实施方式的手术导航系统在配准过程中能够减少人工操作的误差，即使在手术部位的面积很小的情况下也能够快速实现自动配准，缩短了手术时间，进而降低手术风险，符合微创手术的需求。在某些实施方式中，所述扫描装置包括扫描空间坐标系，所述动态基准包括动态空间坐标系；</td></tr><tr><td class="content" id="description_9">所述处理装置还用于，对所述扫描图像坐标系、所述相机空间坐标系、所述扫描空间坐标系及所述动态空间坐标系进行坐标系转换，进而计算所述相机空间坐标系中的任一点在所述扫描图像坐标系中的特征匹配点，以得到所述实时图像上的任一点在所述扫描图像的特征匹配点。</td></tr><tr><td class="content" id="description_10">在某些实施方式中，所述扫描装置上设有至少三个不共线的第一标志，所述第一标志用于建立所述扫描空间坐标系；</td></tr><tr><td class="content" id="description_11">所述动态基准上设有至少三个不共线的第二标志，所述第二标志用于建立所述动态空间坐标系；</td></tr><tr><td class="content" id="description_12">所述立体相机用于根据双目成像原理，通过追踪所述第一标志及所述第二标志发出的信号确认所述相机空间坐标系与所述扫描空间坐标系及所述动态空间坐标系之间的坐标系转换关系。</td></tr><tr><td class="content" id="description_13">在某些实施方式中，所述处理装置还用于，计算所述扫描空间坐标系中任一点在所述扫描图像坐标系中的特征匹配点，计算所述相机空间坐标系中任一点在所述扫描空间坐标系及所述动态空间坐标系中的特征匹配点，计算所述动态空间坐标系中任一点在所述扫描空间坐标系中的特征匹配点，计算所述动态空间坐标系中任一点在所述扫描图像坐标系中的特征匹配点，及计算任意时刻所述动态空间坐标系中任一点在所述相机空间坐标系中的特征匹配点。在某些实施方式中，所述相机空间坐标系中的任一点在所述扫描图像坐标系中的特征匹配点根据以下公式计算：</td></tr><tr><td class="content" id="description_14"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246885&amp;blobId=3702101991" width="492"/></td></tr><tr><td class="content" id="description_15">式中：</td></tr><tr><td class="content" id="description_16"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246875&amp;blobId=3702155296" width="102"/>为所述扫描图像坐标系中的任一点的坐标；
</td></tr><tr><td class="content" id="description_17"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246865&amp;blobId=3702240306" width="110"/>为所述相机空间坐标系中任一点的坐标；
</td></tr><tr><td class="content" id="description_18">R为在获取所述扫描图像时所述扫描图像坐标系与所述扫描空间坐标系之间的旋转矩阵；</td></tr><tr><td class="content" id="description_19">R<base:Sub>12</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述扫描空间坐标系的旋转矩阵；</td></tr><tr><td class="content" id="description_20"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246854&amp;blobId=3702118424" width="77"/>为在获取所述扫描图像时所述相机空间坐标系相对于所述动态空间坐标系的旋转矩阵的逆矩阵；</td></tr><tr><td class="content" id="description_21">R<base:Sub>13</base:Sub>(t)为任意时刻所述相机空间坐标系与所述动态空间坐标系的旋转矩阵；</td></tr><tr><td class="content" id="description_22">T<base:Sub>13</base:Sub>(t)为任意时刻所述相机空间坐标系与所述动态空间坐标系的平移向量；</td></tr><tr><td class="content" id="description_23">T<base:Sub>13</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述动态空间坐标系的平移向量；</td></tr><tr><td class="content" id="description_24">T<base:Sub>12</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述扫描空间坐标系的平移向量；</td></tr><tr><td class="content" id="description_25">T为在获取所述扫描图像时所述扫描图像坐标系与所述扫描空间坐标系之间的平移向量。</td></tr><tr><td class="content" id="description_26">在某些实施方式中，所述手术导航系统还包括导航探针，所述导航探针包括探头，所述探头用于在所述手术部位上点取比较点，所述导航探针包括探针空间坐标系，所述处理装置用于，对所述探针空间坐标系与所述相机空间坐标系进行坐标系转换，进而计算获取所述比较点在所述扫描图像坐标系中的特征匹配点，以实现所述手术导航系统术中导航。</td></tr><tr><td class="content" id="description_27">在某些实施方式中，所述比较点在所述扫描图像坐标系中的特征匹配点根据以下公式计算：</td></tr><tr><td class="content" id="description_28"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246846&amp;blobId=3702229320" width="492"/></td></tr><tr><td class="content" id="description_29">式中：</td></tr><tr><td class="content" id="description_30"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246839&amp;blobId=3702284700" width="97"/>为所述扫描图像坐标系中的任一点的坐标；
</td></tr><tr><td class="content" id="description_31"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246832&amp;blobId=3702267631" width="91"/>为所述比较点在所述探针空间坐标系中的坐标；
</td></tr><tr><td class="content" id="description_32">R为在获取所述扫描图像时所述扫描图像坐标系与所述扫描空间坐标系之间的旋转矩阵；</td></tr><tr><td class="content" id="description_33">R<base:Sub>12</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述扫描空间坐标系的旋转矩阵；</td></tr><tr><td class="content" id="description_34"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246824&amp;blobId=3702283289" width="74"/>为在获取所述扫描图像时所述相机空间坐标系相对于所述动态空间坐标系的旋转矩阵的逆矩阵；</td></tr><tr><td class="content" id="description_35">R<base:Sub>13</base:Sub>(t)为任意时刻所述相机空间坐标系与所述动态空间坐标系的旋转矩阵；</td></tr><tr><td class="content" id="description_36"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246816&amp;blobId=3702060009" width="128"/>为任意时刻所述探针空间坐标系与所述相机空间坐标系之间的旋转矩阵的逆矩阵；</td></tr><tr><td class="content" id="description_37">T<base:Sub>14</base:Sub>(t)为任意时刻所述探针空间坐标系与所述相机空间坐标系之间的平移向量；</td></tr><tr><td class="content" id="description_38">T<base:Sub>13</base:Sub>(t)为任意时刻所述相机空间坐标系与所述动态空间坐标系的平移向量；</td></tr><tr><td class="content" id="description_39">T<base:Sub>13</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述动态空间坐标系的平移向量；</td></tr><tr><td class="content" id="description_40">T<base:Sub>12</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述扫描空间坐标系的平移向量；</td></tr><tr><td class="content" id="description_41">T为在获取所述扫描图像时所述扫描图像坐标系与所述扫描空间坐标系之间的平移向量。</td></tr><tr><td class="content" id="description_42">本发明实施方式的手术导航系统的配准方法，包括以下步骤：</td></tr><tr><td class="content" id="description_43">在受施手术者的手术部位固定设置动态基准；</td></tr><tr><td class="content" id="description_44">在术前获取所述手术部位的扫描图像；</td></tr><tr><td class="content" id="description_45">对扫描图像坐标系与相机空间坐标系进行坐标系转换；</td></tr><tr><td class="content" id="description_46">在术中获取所述手术部位的实时图像；及</td></tr><tr><td class="content" id="description_47">计算所述实时图像上的任一点在所述扫描图像的特征匹配点。</td></tr><tr><td class="content" id="description_48">本发明实施方式的手术导航系统的配准方法中，在手术进行时，手术部位的实时图像上的任一点都能够在手术部位的扫描图像中找到特征匹配点，从而实现术中手术部位的实际位置与术前的扫描图像之间的配准，进而准确地引导手术的进行。本发明实施方式的手术导航系统的配准方法在配准过程中能够减少人工操作的误差，即使在手术部位的面积很小的情况下也能够快速实现自动配准，缩短了手术时间，进而降低手术风险，符合微创手术的需求。</td></tr><tr><td class="content" id="description_49">在某些实施方式中，所述对扫描图像坐标系与相机空间坐标系进行坐标系转换的步骤包括：</td></tr><tr><td class="content" id="description_50">对所述扫描图像坐标系、所述相机空间坐标系、扫描空间坐标系及动态空间坐标系进行坐标系转换；及</td></tr><tr><td class="content" id="description_51">计算所述相机空间坐标系中的任一点在所述扫描图像坐标系中的特征匹配点。</td></tr><tr><td class="content" id="description_52">在某些实施方式中，所述对所述扫描图像坐标系、所述相机空间坐标系、扫描空间坐标系及动态空间坐标系进行坐标系转换的步骤包括：</td></tr><tr><td class="content" id="description_53">计算所述扫描空间坐标系中任一点在所述扫描图像坐标系中的特征匹配点；</td></tr><tr><td class="content" id="description_54">计算所述相机空间坐标系中任一点在所述扫描空间坐标系及所述动态空间坐标系中的特征匹配点；</td></tr><tr><td class="content" id="description_55">计算所述动态空间坐标系中任一点在所述扫描空间坐标系中的特征匹配点；</td></tr><tr><td class="content" id="description_56">计算所述动态空间坐标系中任一点在所述扫描图像坐标系中的特征匹配点；及</td></tr><tr><td class="content" id="description_57">计算任意时刻所述动态空间坐标系中任一点在所述相机空间坐标系中的特征匹配点。</td></tr><tr><td class="content" id="description_58">在某些实施方式中，所述相机空间坐标系中的任一点在所述扫描图像坐标系中的特征匹配点根据以下公式计算：</td></tr><tr><td class="content" id="description_59"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246808&amp;blobId=3702297985" width="492"/></td></tr><tr><td class="content" id="description_60">式中：</td></tr><tr><td class="content" id="description_61"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246801&amp;blobId=3702251548" width="102"/>为所述扫描图像坐标系中的任一点的坐标；
</td></tr><tr><td class="content" id="description_62"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246795&amp;blobId=3702131039" width="108"/>为所述相机空间坐标系中任一点的坐标；
</td></tr><tr><td class="content" id="description_63">R为在获取所述扫描图像时所述扫描图像坐标系与所述扫描空间坐标系之间的旋转矩阵；</td></tr><tr><td class="content" id="description_64">R<base:Sub>12</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述扫描空间坐标系的旋转矩阵；</td></tr><tr><td class="content" id="description_65"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246790&amp;blobId=3702277296" width="75"/>为在获取所述扫描图像时所述相机空间坐标系相对于所述动态空间坐标系的旋转矩阵的逆矩阵；</td></tr><tr><td class="content" id="description_66">R<base:Sub>13</base:Sub>(t)为任意时刻所述相机空间坐标系与所述动态空间坐标系的旋转矩阵；</td></tr><tr><td class="content" id="description_67">T<base:Sub>13</base:Sub>(t)为任意时刻所述相机空间坐标系与所述动态空间坐标系的平移向量；</td></tr><tr><td class="content" id="description_68">T<base:Sub>13</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述动态空间坐标系的平移向量；</td></tr><tr><td class="content" id="description_69">T<base:Sub>12</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述扫描空间坐标系的平移向量；</td></tr><tr><td class="content" id="description_70">T为在获取所述扫描图像时所述扫描图像坐标系与所述扫描空间坐标系之间的平移向量。</td></tr><tr><td class="content" id="description_71">在某些实施方式中，所述手术导航系统的配准方法还包括步骤：</td></tr><tr><td class="content" id="description_72">在所述手术部位上点取比较点；</td></tr><tr><td class="content" id="description_73">对探针空间坐标系与所述相机空间坐标系进行坐标系转换；及</td></tr><tr><td class="content" id="description_74">计算获取所述比较点在所述扫描图像坐标系中的特征匹配点。</td></tr><tr><td class="content" id="description_75">在某些实施方式中，所述比较点在所述扫描图像坐标系中的特征匹配点根据以下公式计算：</td></tr><tr><td class="content" id="description_76"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246784&amp;blobId=3702307795" width="492"/></td></tr><tr><td class="content" id="description_77"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246775&amp;blobId=3702309426" width="96"/>为所述扫描图像坐标系中的任一点的坐标；
</td></tr><tr><td class="content" id="description_78"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246767&amp;blobId=3702236871" width="87"/>为所述比较点在所述探针空间坐标系中的坐标；
</td></tr><tr><td class="content" id="description_79">R为在获取所述扫描图像时所述扫描图像坐标系与所述扫描空间坐标系之间的旋转矩阵；</td></tr><tr><td class="content" id="description_80">R<base:Sub>12</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述扫描空间坐标系的旋转矩阵；</td></tr><tr><td class="content" id="description_81"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246746&amp;blobId=3702206081" width="75"/>为在获取所述扫描图像时所述相机空间坐标系相对于所述动态空间坐标系的旋转矩阵的逆矩阵；</td></tr><tr><td class="content" id="description_82">R<base:Sub>13</base:Sub>(t)为任意时刻所述相机空间坐标系与所述动态空间坐标系的旋转矩阵；</td></tr><tr><td class="content" id="description_83"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246756&amp;blobId=3702292214" width="133"/>为任意时刻所述探针空间坐标系与所述相机空间坐标系之间的旋转矩阵的逆矩阵；</td></tr><tr><td class="content" id="description_84">T<base:Sub>14</base:Sub>(t)为任意时刻所述探针空间坐标系与所述相机空间坐标系之间的平移向量；</td></tr><tr><td class="content" id="description_85">T<base:Sub>13</base:Sub>(t)为任意时刻所述相机空间坐标系与所述动态空间坐标系的平移向量；</td></tr><tr><td class="content" id="description_86">T<base:Sub>13</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述动态空间坐标系的平移向量；</td></tr><tr><td class="content" id="description_87">T<base:Sub>12</base:Sub>为在获取所述扫描图像时所述相机空间坐标系相对于所述扫描空间坐标系的平移向量；</td></tr><tr><td class="content" id="description_88">T为在获取所述扫描图像时所述扫描图像坐标系与所述扫描空间坐标系之间的平移向量。</td></tr><tr><td class="content" id="description_89">本发明的附加方面和优点将在下面的描述中部分给出，部分将从下面的描述中变得明显，或通过本发明的实践了解到。</td></tr><tr><td class="content" id="description_90">附图说明</td></tr><tr><td class="content" id="description_91">本发明的上述和/或附加的方面和优点从结合下面附图对实施方式的描述中将变得明显和容易理解，其中：</td></tr><tr><td class="content" id="description_92">图1是本发明实施方式的手术导航系统的模块示意图。</td></tr><tr><td class="content" id="description_93">图2是本发明实施方式的手术导航系统的原理示意图。</td></tr><tr><td class="content" id="description_94">图3是本发明实施方式的手术导航系统的配准方法的流程示意图。</td></tr><tr><td class="content" id="description_95">图4是本发明实施方式的手术导航系统的配准方法的步骤3的流程示意图。</td></tr><tr><td class="content" id="description_96">图5是本发明实施方式的手术导航系统的配准方法的步骤31的流程示意图。</td></tr><tr><td class="content" id="description_97">具体实施方式</td></tr><tr><td class="content" id="description_98">下面详细描述本发明的实施方式，所述实施方式的示例在附图中示出，其中自始至终相同或类似的标号表示相同或类似的元件或具有相同或类似功能的元件。下面通过参考附图描述的实施方式是示例性的，仅用于解释本发明，而不能理解为对本发明的限制。</td></tr><tr><td class="content" id="description_99">请参阅图1及图2，本发明实施方式的手术导航系统100包括扫描装置10、立体相机20、处理装置30及动态基准40。扫描装置10用于在术前扫描患者的手术部位以获取扫描图像，扫描图像包括扫描图像坐标系O。立体相机20用于在术中获取手术部位的实时图像，立体相机20包括相机空间坐标系O<base:Sub>1</base:Sub>。处理装置30连接扫描装置10、立体相机20及动态基准40。处理装置30用于处理扫描图像及实时图像，以对相机空间坐标系O<base:Sub>1</base:Sub>与扫描图像坐标系O进行坐标系转换，及计算实时图像上的任一点在扫描图像的特征匹配点。动态基准40用于固定设置在受施手术者的手术部位上。</td></tr><tr><td class="content" id="description_100">在本发明实施方式的手术导航系统100中，处理装置30预存有计算实时图像上的任一点在扫描图像的特征匹配点的算法，在手术进行时，手术部位的实时图像上的任一点都能够在手术部位的扫描图像中找到特征匹配点，从而实现术中手术部位的实际位置与术前的扫描图像之间的配准，进而准确地引导手术的进行。本发明实施方式的手术导航系统100在配准过程中能够减少人工操作的误差，即使在手术部位的面积很小的情况下也能够快速实现自动配准，缩短了手术时间，进而降低手术风险，符合微创手术的需求。</td></tr><tr><td class="content" id="description_101">具体地，扫描装置10可以为计算机断层扫描(Computed Tomography，CT)设备或核磁共振成像(Magnetic Resonance Imaging，MRI)设备等人体扫描设备。</td></tr><tr><td class="content" id="description_102">在本实施方式中，扫描装置10包括扫描空间坐标系O<base:Sub>2</base:Sub>，动态基准40包括动态空间坐标系O<base:Sub>3</base:Sub>。处理装置30还用于，对扫描图像坐标系O、相机空间坐标系O<base:Sub>1</base:Sub>、扫描空间坐标系O<base:Sub>2</base:Sub>及动态空间坐标系O<base:Sub>3</base:Sub>进行坐标系转换，进而计算相机空间坐标系O<base:Sub>1</base:Sub>中的任一点在扫描图像坐标系O中的特征匹配点，以得到实时图像上的任一点在扫描图像的特征匹配点。</td></tr><tr><td class="content" id="description_103">本实施方式中，扫描装置10上设有至少三个不共线的第一标志11，第一标志11用于建立扫描空间坐标系O<base:Sub>2</base:Sub>。</td></tr><tr><td class="content" id="description_104">动态基准40上设有至少三个不共线的第二标志41，第二标志41用于建立动态空间坐标系O<base:Sub>3</base:Sub>。</td></tr><tr><td class="content" id="description_105">立体相机20用于根据双目成像原理，通过追踪所述第一标志41及所述第二标志42发出的信号确定相机空间坐标系O<base:Sub>1</base:Sub>与扫描空间坐标系O<base:Sub>2</base:Sub>及动态空间坐标系O<base:Sub>3</base:Sub>之间的坐标系转换关系。</td></tr><tr><td class="content" id="description_106">具体地，双目成像原理类似人眼的三维感知机制，通过不同视角来观察场景，而不同视角观察场景存在一定的视觉差，根据这一视差就可以得到场景中物体距离相机的距离，也即场景的三维结构信息。</td></tr><tr><td class="content" id="description_107">在本实施方式中，立体相机20提前完成了标定以及校正，得到了相机的焦距、主点以及相机之间基线长度等信息。</td></tr><tr><td class="content" id="description_108">第一标志11、第二标志41为发光二极管，例如为近红外发光二极管，如此，第一标志11及第二标志41发出不可见光，从而避免对人眼产生刺激。</td></tr><tr><td class="content" id="description_109">第一标志11、第二标志41发出的光经过滤光片滤过杂光在立体相机20传感器上得到清晰的图像，然后通过图像处理以及极线校正得到各个发光二极管在立体相机20上的视差，最后利用前面立体相机20标定得到的参数采用三角测量原理计算出各个发光二极管在相机空间坐标系O<base:Sub>1</base:Sub>中的坐标，进而确定相机空间坐标系O<base:Sub>1</base:Sub>与扫描空间坐标系O<base:Sub>2</base:Sub>及动态空间坐标系O<base:Sub>3</base:Sub>之间的坐标系转换关系。</td></tr><tr><td class="content" id="description_110">在手术前及手术中，将第一标志11及第二标志41设置于立体相机20的视野范围内，并且在扫描装置10扫描手术部位的时候保持第一标志11、第二标志41及立体相机20的位置不变，以便立体相机20追踪第一标志11及第二标志41发出的信息，从而保证扫描图像坐标系O、相机空间坐标系O<base:Sub>1</base:Sub>、扫描空间坐标系O<base:Sub>2</base:Sub>及动态空间坐标系O<base:Sub>3</base:Sub>的转换关系唯一。</td></tr><tr><td class="content" id="description_111">如此，通过坐标系的转换计算，可准确地得到手术部位的实时图像上的任一点在扫描图像的特征匹配点。</td></tr><tr><td class="content" id="description_112">在本实施方式中，相机空间坐标系O<base:Sub>1</base:Sub>中的任一点在扫描图像坐标系O中的特征匹配点根据以下公式(一)计算：</td></tr><tr><td class="content" id="description_113"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246732&amp;blobId=3702099916" width="492"/>   (一)
</td></tr><tr><td class="content" id="description_114">式中：</td></tr><tr><td class="content" id="description_115"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246714&amp;blobId=3702035426" width="95"/>为扫描图像坐标系O中的任一点的坐标；
</td></tr><tr><td class="content" id="description_116"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246703&amp;blobId=3702252013" width="109"/>为相机空间坐标系O<base:Sub>1</base:Sub>中任一点的坐标；
</td></tr><tr><td class="content" id="description_117">R为在获取扫描图像时扫描图像坐标系O与扫描空间坐标系O<base:Sub>2</base:Sub>之间的旋转矩阵；</td></tr><tr><td class="content" id="description_118">R<base:Sub>12</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于扫描空间坐标系O<base:Sub>2</base:Sub>的旋转矩阵；</td></tr><tr><td class="content" id="description_119"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246692&amp;blobId=3702239778" width="74"/>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于动态空间坐标系O<base:Sub>3</base:Sub>的旋转矩阵的逆矩阵；</td></tr><tr><td class="content" id="description_120">R<base:Sub>13</base:Sub>(t)为任意时刻相机空间坐标系O<base:Sub>1</base:Sub>与动态空间坐标系O<base:Sub>3</base:Sub>的旋转矩阵；</td></tr><tr><td class="content" id="description_121">T<base:Sub>13</base:Sub>(t)为任意时刻相机空间坐标系O<base:Sub>1</base:Sub>与动态空间坐标系O<base:Sub>3</base:Sub>的平移向量；</td></tr><tr><td class="content" id="description_122">T<base:Sub>13</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于动态空间坐标系O<base:Sub>3</base:Sub>的平移向量；</td></tr><tr><td class="content" id="description_123">T<base:Sub>12</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于扫描空间坐标系O<base:Sub>2</base:Sub>的平移向量；</td></tr><tr><td class="content" id="description_124">T为在获取扫描图像时扫描图像坐标系O与扫描空间坐标系O<base:Sub>2</base:Sub>之间的平移向量。</td></tr><tr><td class="content" id="description_125">如此，可准确地计算相机空间坐标系O<base:Sub>1</base:Sub>中的任一点在扫描图像坐标系O中的特征匹配点。</td></tr><tr><td class="content" id="description_126">本实施方式中，处理装置30还用于，计算扫描空间坐标系O<base:Sub>2</base:Sub>中任一点在扫描图像坐标系O中的特征匹配点，计算相机空间坐标系O<base:Sub>1</base:Sub>中任一点在扫描空间坐标系O<base:Sub>2</base:Sub>及动态空间坐标系O<base:Sub>3</base:Sub>中的特征匹配点，计算动态空间坐标系O<base:Sub>3</base:Sub>中任一点在扫描空间坐标系O<base:Sub>2</base:Sub>中的特征匹配点，计算动态空间坐标系O<base:Sub>3</base:Sub>中任一点在扫描图像坐标系O中的特征匹配点，及计算任意时刻动态空间坐标系O<base:Sub>3</base:Sub>中任一点在相机空间坐标系O<base:Sub>1</base:Sub>中的特征匹配点。</td></tr><tr><td class="content" id="description_127">如此，准确确认扫描图像坐标系O、相机空间坐标系O<base:Sub>1</base:Sub>、扫描空间坐标系O<base:Sub>2</base:Sub>及动态空间坐标系O<base:Sub>3</base:Sub>之间的转换关系。</td></tr><tr><td class="content" id="description_128">本实施方式中，具体地，扫描空间坐标系O<base:Sub>2</base:Sub>中任一点在扫描图像坐标系O中的特征匹配点通过以下公式(二)计算：</td></tr><tr><td class="content" id="description_129"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246684&amp;blobId=3702248994" width="398"/>       (二)
</td></tr><tr><td class="content" id="description_130">式中：</td></tr><tr><td class="content" id="description_131"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246677&amp;blobId=3702213157" width="114"/>为扫描空间坐标系O<base:Sub>2</base:Sub>中的任一点的坐标。
</td></tr><tr><td class="content" id="description_132">其中，R和T可根据扫描装置10的成像原理计算得到，如此，确定扫描空间坐标系O<base:Sub>2</base:Sub>与扫描图像坐标系O之间的转换关系。</td></tr><tr><td class="content" id="description_133">相机空间坐标系O<base:Sub>1</base:Sub>中任一点在扫描空间坐标系O<base:Sub>2</base:Sub>及动态空间坐标系O<base:Sub>3</base:Sub>中的特征匹配点可通过以下公式(三)计算：</td></tr><tr><td class="content" id="description_134"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246663&amp;blobId=3702070040" width="478"/>     (三)
</td></tr><tr><td class="content" id="description_135">式中：</td></tr><tr><td class="content" id="description_136"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246673&amp;blobId=3702284589" width="106"/>为相机空间坐标系O<base:Sub>1</base:Sub>中任一点的坐标。
</td></tr><tr><td class="content" id="description_137">其中，R<base:Sub>12</base:Sub>和T<base:Sub>12</base:Sub>可根据立体相机20的双目成像原理计算而得。如此，可确定相机空间坐标系O<base:Sub>1</base:Sub>与扫描空间坐标系O<base:Sub>2</base:Sub>之间的转换关系。</td></tr><tr><td class="content" id="description_138">相机空间坐标系O<base:Sub>1</base:Sub>中任一点在动态空间坐标系O<base:Sub>3</base:Sub>中的特征匹配点可通过以下公式(四)计算：</td></tr><tr><td class="content" id="description_139"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246659&amp;blobId=3702215892" width="470"/>        (四)
</td></tr><tr><td class="content" id="description_140"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246669&amp;blobId=3702133828" width="113"/>为动态空间坐标系O<base:Sub>3</base:Sub>中的任一点的坐标。
</td></tr><tr><td class="content" id="description_141">其中，R<base:Sub>13</base:Sub>和T<base:Sub>13</base:Sub>可根据立体相机20的双目成像原理计算而得。如此，确定相机空间坐标系O<base:Sub>1</base:Sub>与扫描空间坐标系O<base:Sub>2</base:Sub>之间的转换关系。</td></tr><tr><td class="content" id="description_142">进一步地，根据上述公式(三)及(四)，动态空间坐标系O<base:Sub>3</base:Sub>中任一点在扫描空间坐标系O<base:Sub>2</base:Sub>中的特征匹配点通过以下公式计算：</td></tr><tr><td class="content" id="description_143"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246652&amp;blobId=3702188703" width="492"/>         (五)
</td></tr><tr><td class="content" id="description_144">进一步地，根据公式(二)及(五)，动态空间坐标系O<base:Sub>3</base:Sub>中任一点在扫描图像坐标系O中的特征匹配点通过以下公式计算：</td></tr><tr><td class="content" id="description_145"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246641&amp;blobId=3702120309" width="492"/>     (六)
</td></tr><tr><td class="content" id="description_146">在扫描装置10扫描受施手术者的手术部位以获取扫描图像的过程中，由于第一标志11、第二标志41及立体相机20的位置保持不变，因此，扫描图像坐标系O、相机空间坐标系O<base:Sub>1</base:Sub>、扫描空间坐标系O<base:Sub>2</base:Sub>及动态空间坐标系O<base:Sub>3</base:Sub>之间的转换关系唯一，即旋转矩阵R、R<base:Sub>12</base:Sub>、R<base:Sub>13</base:Sub>，以及平移向量T、T<base:Sub>12</base:Sub>、T<base:Sub>13</base:Sub>恒为常量，也就是说，手术部位在动态空间坐标系O<base:Sub>3</base:Sub>中任一点在扫描图像坐标系O中的特征匹配点的对应关系确认唯一。</td></tr><tr><td class="content" id="description_147">进一步地，任意时刻动态空间坐标系O<base:Sub>3</base:Sub>中任一点在相机空间坐标系O<base:Sub>1</base:Sub>中的特征匹配点通过以下公式计算：</td></tr><tr><td class="content" id="description_148"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246633&amp;blobId=3702138233" width="492"/>    (七)
</td></tr><tr><td class="content" id="description_149">具体地，在手术过程中，动态基准40与立体相机20的相对位置可能发生移动，但是立体相机20通过追踪动态基准40上的第二标志41发出的信息可确定任意时刻相机空间坐标系O<base:Sub>1</base:Sub>与动态空间坐标系O<base:Sub>3</base:Sub>的旋转矩阵R<base:Sub>13</base:Sub>(t)及平移向量T<base:Sub>13</base:Sub>(t)，如此，在手术过程中，当动态基准40与立体相机20的相对位置发生改变时，处理装置30也能快速地确认任意时刻手术部位在动态空间坐标系O<base:Sub>3</base:Sub>中任一点在扫描图像坐标系O中的特征匹配点。</td></tr><tr><td class="content" id="description_150">如此，根据上述公式(六)及公式(七)的计算得到公式(一)，即可确定相机空间坐标系O<base:Sub>1</base:Sub>中的任一点在扫描图像坐标系O中的特征匹配点且关系唯一，也就是说，立体相机20获取手术部位的实时图像上的任一点都能够在扫描图像坐标系O中确认唯一的特征匹配点，即手术部位的实时图像上的任一点在扫描图像中的特征匹配点唯一。</td></tr><tr><td class="content" id="description_151">在本实施方式中，手术导航系统100还包括导航探针50，导航探针50包括探头51，探头51用于在手术部位上点取比较点，导航探针50包括探针空间坐标系O<base:Sub>4</base:Sub>，处理装置30用于，对探针空间坐标系O<base:Sub>4</base:Sub>与相机空间坐标系O<base:Sub>1</base:Sub>进行坐标系转换，进而计算获取比较点在扫描图像坐标系O中的特征匹配点，以实现手术导航系统100术中导航。</td></tr><tr><td class="content" id="description_152">如此，医生可通过观察比对导航探针50的探头51点取的比较点在手术部位的实时图像中的位置和手术部位的实际位置，进而验证手术导航系统100的配准关系是否正确，进而降低手术导航出现的风险。</td></tr><tr><td class="content" id="description_153">本实施方式中，导航探针50上设有至少三个不共线的第三标志52，第三标志52用于建立探针空间坐标系O<base:Sub>4</base:Sub>。第三标志51为近红外发光二极管，如此，第三标志52发出不可见光，从而避免可见光对人眼产生刺激。立体相机20根据双目成像原理便可计算跟踪第三标志52的位置，从而确定相机空间坐标系O<base:Sub>1</base:Sub>与探针空间坐标系O<base:Sub>4</base:Sub>之间的坐标系转换关系。</td></tr><tr><td class="content" id="description_154">在本实施方式中，比较点在扫描图像坐标系O中的特征匹配点根据以下公式(八)计算：</td></tr><tr><td class="content" id="description_155"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246503&amp;blobId=3702030678" width="492"/>     (八)
</td></tr><tr><td class="content" id="description_156">式中：</td></tr><tr><td class="content" id="description_157"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246566&amp;blobId=3702042548" width="96"/>为扫描图像坐标系O中的任一点的坐标；
</td></tr><tr><td class="content" id="description_158"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246553&amp;blobId=3702180463" width="90"/>为比较点在探针空间坐标系O<base:Sub>4</base:Sub>中的坐标；
</td></tr><tr><td class="content" id="description_159">R为在获取扫描图像时扫描图像坐标系O与扫描空间坐标系O<base:Sub>2</base:Sub>之间的旋转矩阵；</td></tr><tr><td class="content" id="description_160">R<base:Sub>12</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于扫描空间坐标系O<base:Sub>2</base:Sub>的旋转矩阵；</td></tr><tr><td class="content" id="description_161"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246541&amp;blobId=3702220340" width="79"/>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于动态空间坐标系O<base:Sub>3</base:Sub>的旋转矩阵的逆矩阵；</td></tr><tr><td class="content" id="description_162">R<base:Sub>13</base:Sub>(t)为任意时刻相机空间坐标系O<base:Sub>1</base:Sub>与动态空间坐标系O<base:Sub>3</base:Sub>的旋转矩阵；</td></tr><tr><td class="content" id="description_163"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246512&amp;blobId=3702074820" width="122"/>为任意时刻探针空间坐标系O<base:Sub>4</base:Sub>与相机空间坐标系O<base:Sub>1</base:Sub>之间的旋转矩阵的逆矩阵；</td></tr><tr><td class="content" id="description_164">T<base:Sub>14</base:Sub>(t)为任意时刻探针空间坐标系O<base:Sub>4</base:Sub>与相机空间坐标系O<base:Sub>1</base:Sub>之间的平移向量；</td></tr><tr><td class="content" id="description_165">T<base:Sub>13</base:Sub>(t)为任意时刻相机空间坐标系O<base:Sub>1</base:Sub>与动态空间坐标系O<base:Sub>3</base:Sub>的平移向量；</td></tr><tr><td class="content" id="description_166">T<base:Sub>13</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于动态空间坐标系O<base:Sub>3</base:Sub>的平移向量；</td></tr><tr><td class="content" id="description_167">T<base:Sub>12</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于扫描空间坐标系O<base:Sub>2</base:Sub>的平移向量；</td></tr><tr><td class="content" id="description_168">T为在获取扫描图像时扫描图像坐标系O与扫描空间坐标系O<base:Sub>2</base:Sub>之间的平移向量。</td></tr><tr><td class="content" id="description_169">具体地，相机空间坐标系O<base:Sub>1</base:Sub>中的任一点在探针空间坐标系O<base:Sub>4</base:Sub>中的特征匹配点通过以下公式(九)计算：</td></tr><tr><td class="content" id="description_170"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246579&amp;blobId=3702029034" width="492"/>    (九)
</td></tr><tr><td class="content" id="description_171"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246531&amp;blobId=3702035743" width="113"/>为探头51点取的任一点在探针空间坐标系O<base:Sub>4</base:Sub>中的坐标。
</td></tr><tr><td class="content" id="description_172">其中，<img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246524&amp;blobId=3702290176" width="119"/>及T<base:Sub>14</base:Sub>(t)通过追踪导航探针50上的第三标志52发出的信息计算确认。</td></tr><tr><td class="content" id="description_173">进一步地，由于导航探针50的出厂设置，导航探针50的探头51在探针空间坐标系
O<base:Sub>4</base:Sub>中的坐标确认唯一，即<img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246496&amp;blobId=3702295864" width="366"/>为常量，因此，根据上述公式(九)，导航探针50的
探头51在相机空间坐标系O<base:Sub>1</base:Sub>中的坐标通过以下公式(十)计算：
</td></tr><tr><td class="content" id="description_174"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246492&amp;blobId=3702307644" width="492"/>             (十)
</td></tr><tr><td class="content" id="description_175">根据上述公式(一)及(十)可计算出公式(八)，从而可确定任意时刻导航探针50的探头51点取的比较点在扫描图像坐标系O中的特征匹配点，也就是说，探头51点取的比较点都能够在扫描图像中确定关系唯一的特征匹配点，因此，实现手术导航系统100在手术过程中准确地导航，降低手术的风险。</td></tr><tr><td class="content" id="description_176">请参阅图3，本发明实施方式的手术导航系统的配准方法，包括以下步骤：</td></tr><tr><td class="content" id="description_177">S1，在受施手术者的手术部位固定设置动态基准；</td></tr><tr><td class="content" id="description_178">S2，在术前获取手术部位的扫描图像；</td></tr><tr><td class="content" id="description_179">S3，对扫描图像坐标系与相机空间坐标系进行坐标系转换；</td></tr><tr><td class="content" id="description_180">S4，在术中获取手术部位的实时图像；及</td></tr><tr><td class="content" id="description_181">S5，计算实时图像上的任一点在扫描图像的特征匹配点。</td></tr><tr><td class="content" id="description_182">本发明实施方式的手术导航系统的配准方法可通过上述实施方式的手术导航系统100实现。</td></tr><tr><td class="content" id="description_183">本发明实施方式的手术导航系统100的配准方法中，处理装置30预存有计算实时图像上的任一点在扫描图像的特征匹配点的算法，在手术进行时，手术部位的实时图像上的任一点都能够在手术部位的扫描图像中找到特征匹配点，从而实现术中手术部位的实际位置与术前的扫描图像之间的配准，进而准确地引导手术的进行。本发明实施方式的手术导航系统100在配准过程中能够减少人工操作的误差，即使在手术部位的面积很小的情况下也能够快速实现自动配准，缩短了手术时间，进而降低手术风险，符合微创手术的需求。</td></tr><tr><td class="content" id="description_184">请参阅图4，在本实施方式中，步骤S3包括：</td></tr><tr><td class="content" id="description_185">S31，对扫描图像坐标系O、相机空间坐标系O<base:Sub>1</base:Sub>、扫描空间坐标系O<base:Sub>2</base:Sub>及动态空间坐标系O<base:Sub>3</base:Sub>进行坐标系转换；及</td></tr><tr><td class="content" id="description_186">S32，计算相机空间坐标系O<base:Sub>1</base:Sub>中的任一点在扫描图像坐标系O中的特征匹配点。</td></tr><tr><td class="content" id="description_187">如此，通过坐标系的转换计算，可准确地得到实时图像上的任一点在扫描图像的特征匹配点。</td></tr><tr><td class="content" id="description_188">请参阅图5，本发明实施方式中，进一步地，步骤S31包括：</td></tr><tr><td class="content" id="description_189">S311，计算扫描空间坐标系O<base:Sub>2</base:Sub>中任一点在扫描图像坐标系O中的特征匹配点；</td></tr><tr><td class="content" id="description_190">S312，计算相机空间坐标系O<base:Sub>1</base:Sub>中任一点在扫描空间坐标系O<base:Sub>2</base:Sub>及动态空间坐标系O<base:Sub>3</base:Sub>中的特征匹配点；</td></tr><tr><td class="content" id="description_191">S313，计算动态空间坐标系O<base:Sub>3</base:Sub>中任一点在扫描空间坐标系O<base:Sub>2</base:Sub>中的特征匹配点；</td></tr><tr><td class="content" id="description_192">S314，计算动态空间坐标系O<base:Sub>3</base:Sub>中任一点在扫描图像坐标系O中的特征匹配点；及</td></tr><tr><td class="content" id="description_193">S315，计算任意时刻动态空间坐标系O<base:Sub>3</base:Sub>中任一点在相机空间坐标系O<base:Sub>1</base:Sub>中的特征匹配点。</td></tr><tr><td class="content" id="description_194">具体地，在步骤S311中，通过以下公式计算扫描空间坐标系O<base:Sub>2</base:Sub>中任一点在扫描图像坐标系O中的特征匹配点：</td></tr><tr><td class="content" id="description_195"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246487&amp;blobId=3702296431" width="400"/></td></tr><tr><td class="content" id="description_196">式中：</td></tr><tr><td class="content" id="description_197"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246480&amp;blobId=3702102924" width="98"/>为扫描图像坐标系O中的任一点的坐标；
</td></tr><tr><td class="content" id="description_198"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246472&amp;blobId=3702275710" width="110"/>为扫描空间坐标系O<base:Sub>2</base:Sub>中的任一点的坐标；
</td></tr><tr><td class="content" id="description_199">R为在获取扫描图像时扫描图像坐标系O与扫描空间坐标系O<base:Sub>2</base:Sub>之间的旋转矩阵；</td></tr><tr><td class="content" id="description_200">T为在获取扫描图像时扫描图像坐标系O与扫描空间坐标系O<base:Sub>2</base:Sub>之间的平移向量。</td></tr><tr><td class="content" id="description_201">其中，R和T可根据扫描装置10的成像原理计算得到，如此，确定扫描空间坐标系O<base:Sub>2</base:Sub>与扫描图像坐标系O之间的转换关系。</td></tr><tr><td class="content" id="description_202">在步骤S312中，通过以下公式计算相机空间坐标系O<base:Sub>1</base:Sub>中任一点在扫描空间坐标系O<base:Sub>2</base:Sub>的特征匹配点；</td></tr><tr><td class="content" id="description_203"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246466&amp;blobId=3702255298" width="471"/></td></tr><tr><td class="content" id="description_204">式中：</td></tr><tr><td class="content" id="description_205"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246457&amp;blobId=3702282569" width="104"/>为相机空间坐标系O<base:Sub>1</base:Sub>中任一点的坐标；
</td></tr><tr><td class="content" id="description_206">R<base:Sub>12</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于扫描空间坐标系O<base:Sub>2</base:Sub>的旋转矩阵；</td></tr><tr><td class="content" id="description_207">T<base:Sub>12</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于扫描空间坐标系O<base:Sub>2</base:Sub>的平移向量。</td></tr><tr><td class="content" id="description_208">其中，R<base:Sub>12</base:Sub>和T<base:Sub>12</base:Sub>可根据立体相机20的双目成像原理计算而得。</td></tr><tr><td class="content" id="description_209">通过以下公式计算相机空间坐标系O<base:Sub>1</base:Sub>中任一点在动态空间坐标系O<base:Sub>3</base:Sub>中的特征匹配点；</td></tr><tr><td class="content" id="description_210"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246450&amp;blobId=3702307575" width="472"/></td></tr><tr><td class="content" id="description_211">式中：</td></tr><tr><td class="content" id="description_212"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246440&amp;blobId=3702236347" width="111"/>为动态空间坐标系O<base:Sub>3</base:Sub>中的任一点的坐标；
</td></tr><tr><td class="content" id="description_213">R<base:Sub>13</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于动态空间坐标系O<base:Sub>3</base:Sub>的旋转矩阵；</td></tr><tr><td class="content" id="description_214">T<base:Sub>13</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于动态空间坐标系O<base:Sub>3</base:Sub>的平移向量。</td></tr><tr><td class="content" id="description_215">在步骤S313中，通过以下公式计算动态空间坐标系O<base:Sub>3</base:Sub>中任一点在扫描空间坐标系O<base:Sub>2</base:Sub>中的特征匹配点；</td></tr><tr><td class="content" id="description_216"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246432&amp;blobId=3702199501" width="492"/></td></tr><tr><td class="content" id="description_217">式中：</td></tr><tr><td class="content" id="description_218"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246402&amp;blobId=3702280648" width="75"/>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于动态空间坐标系O<base:Sub>3</base:Sub>的旋转矩阵的逆矩阵；</td></tr><tr><td class="content" id="description_219">在步骤S314中，通过以下公式计算动态空间坐标系O<base:Sub>3</base:Sub>中任一点在扫描图像坐标系O中的特征匹配点：</td></tr><tr><td class="content" id="description_220"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246423&amp;blobId=3702137223" width="492"/></td></tr><tr><td class="content" id="description_221">在步骤S315中，通过以下公式计算任意时刻动态空间坐标系O<base:Sub>3</base:Sub>中任一点在相机空间坐标系O<base:Sub>1</base:Sub>中的特征匹配点：</td></tr><tr><td class="content" id="description_222"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246413&amp;blobId=3702227841" width="492"/></td></tr><tr><td class="content" id="description_223">式中：</td></tr><tr><td class="content" id="description_224">R<base:Sub>13</base:Sub>(t)为任意时刻相机空间坐标系O<base:Sub>1</base:Sub>与动态空间坐标系O<base:Sub>3</base:Sub>的旋转矩阵；</td></tr><tr><td class="content" id="description_225">T<base:Sub>13</base:Sub>(t)为任意时刻相机空间坐标系O<base:Sub>1</base:Sub>与动态空间坐标系O<base:Sub>3</base:Sub>的平移向量。</td></tr><tr><td class="content" id="description_226">如此，在手术过程中，当动态基准40的位置发生改变的时候，也能快速地确认任意时刻手术部位在动态空间坐标系O<base:Sub>3</base:Sub>中任一点在扫描图像坐标系O中的特征匹配点。</td></tr><tr><td class="content" id="description_227">在本实施方式中，相机空间坐标系O<base:Sub>1</base:Sub>中的任一点在扫描图像坐标系O中的特征匹配点根据以下公式计算：</td></tr><tr><td class="content" id="description_228"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246391&amp;blobId=3702186299" width="492"/></td></tr><tr><td class="content" id="description_229">式中：</td></tr><tr><td class="content" id="description_230"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246382&amp;blobId=3702088738" width="95"/>为扫描图像坐标系O中的任一点的坐标；
</td></tr><tr><td class="content" id="description_231"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246370&amp;blobId=3702135456" width="108"/>为相机空间坐标系O<base:Sub>1</base:Sub>中任一点的坐标；
</td></tr><tr><td class="content" id="description_232">R为在获取扫描图像时扫描图像坐标系O与扫描空间坐标系O<base:Sub>2</base:Sub>之间的旋转矩阵；</td></tr><tr><td class="content" id="description_233">R<base:Sub>12</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于扫描空间坐标系O<base:Sub>2</base:Sub>的旋转矩阵；</td></tr><tr><td class="content" id="description_234"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246360&amp;blobId=3702108687" width="75"/>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于动态空间坐标系O<base:Sub>3</base:Sub>的旋转矩阵的逆矩阵；</td></tr><tr><td class="content" id="description_235">R<base:Sub>13</base:Sub>(t)为任意时刻相机空间坐标系O<base:Sub>1</base:Sub>与动态空间坐标系O<base:Sub>3</base:Sub>的旋转矩阵；</td></tr><tr><td class="content" id="description_236">T<base:Sub>13</base:Sub>(t)为任意时刻相机空间坐标系O<base:Sub>1</base:Sub>与动态空间坐标系O<base:Sub>3</base:Sub>的平移向量；</td></tr><tr><td class="content" id="description_237">T<base:Sub>13</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于动态空间坐标系O<base:Sub>3</base:Sub>的平移向量；</td></tr><tr><td class="content" id="description_238">T<base:Sub>12</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于扫描空间坐标系O<base:Sub>2</base:Sub>的平移向量；</td></tr><tr><td class="content" id="description_239">T为在获取扫描图像时扫描图像坐标系O与扫描空间坐标系O<base:Sub>2</base:Sub>之间的平移向量。</td></tr><tr><td class="content" id="description_240">如此，可确定相机空间坐标系O<base:Sub>1</base:Sub>中的任一点在扫描图像坐标系O中的特征匹配点且关系唯一，也就是说，立体相机20获取手术部位的实时图像上的任一点都能够在扫描图像坐标系O中确认唯一的特征匹配点，即手术部位的实时图像上的任一点在扫描图像中的特征匹配点唯一。</td></tr><tr><td class="content" id="description_241">请参阅图3，在本实施方式中，手术导航系统的配准方法还包括步骤：</td></tr><tr><td class="content" id="description_242">S6，在手术部位上点取比较点；</td></tr><tr><td class="content" id="description_243">S7，对探针空间坐标系O<base:Sub>4</base:Sub>与相机空间坐标系O<base:Sub>1</base:Sub>进行坐标系转换；及</td></tr><tr><td class="content" id="description_244">S8，计算获取比较点在扫描图像坐标系O中的特征匹配点。</td></tr><tr><td class="content" id="description_245">如此，医生可通过观察比对比较点在手术部位的实时图像中的位置和实际中的手术部位的位置，进而验证手术导航系统100的配准关系是否正确，进而降低手术导航出现的风险。</td></tr><tr><td class="content" id="description_246">在本实施方式中，比较点在扫描图像坐标系O中的特征匹配点根据以下公式计算：</td></tr><tr><td class="content" id="description_247"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246350&amp;blobId=3702184055" width="492"/></td></tr><tr><td class="content" id="description_248">式中：</td></tr><tr><td class="content" id="description_249"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246343&amp;blobId=3702181782" width="93"/>为扫描图像坐标系O中的任一点的坐标；
</td></tr><tr><td class="content" id="description_250"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246335&amp;blobId=3702117036" width="87"/>为比较点在探针空间坐标系O<base:Sub>4</base:Sub>中的坐标；
</td></tr><tr><td class="content" id="description_251">R为在获取扫描图像时扫描图像坐标系O与扫描空间坐标系O<base:Sub>2</base:Sub>之间的旋转矩阵；</td></tr><tr><td class="content" id="description_252">R<base:Sub>12</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于扫描空间坐标系O<base:Sub>2</base:Sub>的旋转矩阵；</td></tr><tr><td class="content" id="description_253"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246326&amp;blobId=3702269019" width="74"/>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于动态空间坐标系O<base:Sub>3</base:Sub>的旋转矩阵的逆矩阵；</td></tr><tr><td class="content" id="description_254">R<base:Sub>13</base:Sub>(t)为任意时刻相机空间坐标系O<base:Sub>1</base:Sub>与动态空间坐标系O<base:Sub>3</base:Sub>的旋转矩阵；</td></tr><tr><td class="content" id="description_255"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4463246317&amp;blobId=3702033461" width="125"/>为任意时刻探针空间坐标系O<base:Sub>4</base:Sub>与相机空间坐标系O<base:Sub>1</base:Sub>之间的旋转矩阵的逆矩阵；</td></tr><tr><td class="content" id="description_256">T<base:Sub>14</base:Sub>(t)为任意时刻探针空间坐标系O<base:Sub>4</base:Sub>与相机空间坐标系O<base:Sub>1</base:Sub>之间的平移向量；</td></tr><tr><td class="content" id="description_257">T<base:Sub>13</base:Sub>(t)为任意时刻相机空间坐标系O<base:Sub>1</base:Sub>与动态空间坐标系O<base:Sub>3</base:Sub>的平移向量；</td></tr><tr><td class="content" id="description_258">T<base:Sub>13</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于动态空间坐标系O<base:Sub>3</base:Sub>的平移向量；</td></tr><tr><td class="content" id="description_259">T<base:Sub>12</base:Sub>为在获取扫描图像时相机空间坐标系O<base:Sub>1</base:Sub>相对于扫描空间坐标系O<base:Sub>2</base:Sub>的平移向量；</td></tr><tr><td class="content" id="description_260">T为在获取扫描图像时扫描图像坐标系O与扫描空间坐标系O<base:Sub>2</base:Sub>之间的平移向量。</td></tr><tr><td class="content" id="description_261">如此，实现手术导航系统100在手术过程中准确地导航，降低手术的风险。</td></tr><tr><td class="content" id="description_262">本发明实施方式的手术导航系统的配准方法未展开的部分请参照以上实施方式的手术导航系统100相同或相类似的部分，在此不再赘述。</td></tr><tr><td class="content" id="description_263">在本发明的实施方式的描述中，需要理解的是，术语“中心”、“纵向”、“横向”、“长度”、“宽度”、“厚度”、“上”、“下”、“前”、“后”、“左”、“右”、“竖直”、“水平”、“顶”、“底”、“内”、“外”、“顺时针”、“逆时针”等指示的方位或位置关系为基于附图所示的方位或位置关系，仅是为了便于描述本发明的实施方式和简化描述，而不是指示或暗示所指的装置或元件必须具有特定的方位、以特定的方位构造和操作，因此不能理解为对本发明的实施方式的限制。此外，术语“第一”、“第二”仅用于描述目的，而不能理解为指示或暗示相对重要性或者隐含指明所指示的技术特征的数量。由此，限定有“第一”、“第二”的特征可以明示或者隐含地包括一个或者更多个所述特征。在本发明的实施方式的描述中，“多个”的含义是两个或两个以上，除非另有明确具体的限定。</td></tr><tr><td class="content" id="description_264">在本发明的实施方式的描述中，需要说明的是，除非另有明确的规定和限定，术语“安装”、“相连”、“连接”应做广义理解，例如，可以是固定连接，也可以是可拆卸连接，或一体地连接；可以是机械连接，也可以是电连接或可以相互通讯；可以是直接相连，也可以通过中间媒介间接相连，可以是两个元件内部的连通或两个元件的相互作用关系。对于本领域的普通技术人员而言，可以根据具体情况理解上述术语在本发明的实施方式中的具体含义。</td></tr><tr><td class="content" id="description_265">在本发明的实施方式中，除非另有明确的规定和限定，第一特征在第二特征之“上”或之“下”可以包括第一和第二特征直接接触，也可以包括第一和第二特征不是直接接触而是通过它们之间的另外的特征接触。而且，第一特征在第二特征“之上”、“上方”和“上面”包括第一特征在第二特征正上方和斜上方，或仅仅表示第一特征水平高度高于第二特征。第一特征在第二特征“之下”、“下方”和“下面”包括第一特征在第二特征正上方和斜上方，或仅仅表示第一特征水平高度小于第二特征。</td></tr><tr><td class="content" id="description_266">下文的公开提供了许多不同的实施方式或例子用来实现本发明的实施方式的不同结构。为了简化本发明的实施方式的公开，下文中对特定例子的部件和设置进行描述。当然，它们仅仅为示例，并且目的不在于限制本发明。此外，本发明的实施方式可以在不同例子中重复参考数字和/或参考字母，这种重复是为了简化和清楚的目的，其本身不指示所讨论各种实施方式和/或设置之间的关系。此外，本发明的实施方式提供了的各种特定的工艺和材料的例子，但是本领域普通技术人员可以意识到其他工艺的应用和/或其他材料的使用。</td></tr><tr><td class="content" id="description_267">在本说明书的描述中，参考术语“一个实施方式”、“一些实施方式”、“示意性实施方式”、“示例”、“具体示例”或“一些示例”等的描述意指结合所述实施方式或示例描述的具体特征、结构、材料或者特点包含于本发明的至少一个实施方式或示例中。在本说明书中，对上述术语的示意性表述不一定指的是相同的实施方式或示例。而且，描述的具体特征、结构、材料或者特点可以在任何的一个或多个实施方式或示例中以合适的方式结合。</td></tr><tr><td class="content" id="description_268">流程图中或在此以其他方式描述的任何过程或方法描述可以被理解为，表示包括一个或更多个用于实现特定逻辑功能或过程的步骤的可执行指令的代码的模块、片段或部分，并且本发明的优选实施方式的范围包括另外的实现，其中可以不按所示出或讨论的顺序，包括根据所涉及的功能按基本同时的方式或按相反的顺序，来执行功能，这应被本发明的实施例所属技术领域的技术人员所理解。</td></tr><tr><td class="content" id="description_269">在流程图中表示或在此以其他方式描述的逻辑和/或步骤，例如，可以被认为是用于实现逻辑功能的可执行指令的定序列表，可以具体实现在任何计算机可读介质中，以供指令执行系统、装置或设备(如基于计算机的系统、包括处理器的系统或其他可以从指令执行系统、装置或设备取指令并执行指令的系统)使用，或结合这些指令执行系统、装置或设备而使用。就本说明书而言，"计算机可读介质"可以是任何可以包含、存储、通信、传播或传输程序以供指令执行系统、装置或设备或结合这些指令执行系统、装置或设备而使用的装置。计算机可读介质的更具体的示例(非穷尽性列表)包括以下：具有一个或多个布线的电连接部(电子装置)，便携式计算机盘盒(磁装置)，随机存取存储器(RAM)，只读存储器(ROM)，可擦除可编辑只读存储器(EPROM或闪速存储器)，光纤装置，以及便携式光盘只读存储器(CDROM)。另外，计算机可读介质甚至可以是可在其上打印所述程序的纸或其他合适的介质，因为可以例如通过对纸或其他介质进行光学扫描，接着进行编辑、解译或必要时以其他合适方式进行处理来以电子方式获得所述程序，然后将其存储在计算机存储器中。</td></tr><tr><td class="content" id="description_270">应当理解，本发明的实施方式的各部分可以用硬件、软件、固件或它们的组合来实现。在上述实施方式中，多个步骤或方法可以用存储在存储器中且由合适的指令执行系统执行的软件或固件来实现。例如，如果用硬件来实现，和在另一实施方式中一样，可用本领域公知的下列技术中的任一项或他们的组合来实现：具有用于对数据信号实现逻辑功能的逻辑门电路的离散逻辑电路，具有合适的组合逻辑门电路的专用集成电路，可编程门阵列(PGA)，现场可编程门阵列(FPGA)等。</td></tr><tr><td class="content" id="description_271">本技术领域的普通技术人员可以理解实现上述实施例方法携带的全部或部分步骤是可以通过程序来指令相关的硬件完成，所述的程序可以存储于一种计算机可读存储介质中，该程序在执行时，包括方法实施例的步骤之一或其组合。</td></tr><tr><td class="content" id="description_272">此外，在本发明的各个实施例中的各功能单元可以集成在一个处理模块中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个模块中。上述集成的模块既可以采用硬件的形式实现，也可以采用软件功能模块的形式实现。所述集成的模块如果以软件功能模块的形式实现并作为独立的产品销售或使用时，也可以存储在一个计算机可读取存储介质中。</td></tr><tr><td class="content" id="description_273">上述提到的存储介质可以是只读存储器，磁盘或光盘等。</td></tr><tr><td class="content" id="description_274">尽管上面已经示出和描述了本发明的实施例，可以理解的是，上述实施例是示例性的，不能理解为对本发明的限制，本领域的普通技术人员在本发明的范围内可以对上述实施例进行变化、修改、替换和变型。</td></tr></table></div></body></html>